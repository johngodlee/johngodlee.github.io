<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>John L. Godlee</title>
    <link>http://johngodlee.xyz/</link>
    <description>Recent content on John L. Godlee</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-gb</language>
    <lastBuildDate>Wed, 20 Oct 2021 00:00:00 +0000</lastBuildDate><atom:link href="http://johngodlee.xyz/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>New website</title>
      <link>http://johngodlee.xyz/posts/2021-10-20-new_website/</link>
      <pubDate>Wed, 20 Oct 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-10-20-new_website/</guid>
      <description>&lt;p&gt;I have finally redesigned my website. Previously I was running the website using &lt;a href=&#34;https://jekyllrb.com/&#34; target=&#34;_blank&#34;&gt;Jekyll&lt;/a&gt;
, and uploading to Github. I was using a slightly modified version of the &lt;a href=&#34;https://github.com/jekyll/minima&#34; target=&#34;_blank&#34;&gt;minima theme&lt;/a&gt;
, but it was still just a list of blog posts, very bare bones. As I&amp;rsquo;m starting the next chapter of my career in a couple of weeks, as a post-doc researcher at the University of Edinburgh, I thought it was time for a refresh of my website.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve decided to build the website using &lt;a href=&#34;https://gohugo.io/&#34; target=&#34;_blank&#34;&gt;Hugo&lt;/a&gt;
, which is faster to compile than Jekyll and doesn&amp;rsquo;t appear to suffer from the same crazy Ruby dependency issues that Jekyll suffers from on my machine. So far, I&amp;rsquo;ve found it fairly simple to migrate the website across to Hugo, and I&amp;rsquo;ve found that Hugo offers a great deal more control and possibilities for automation than Jekyll.&lt;/p&gt;
&lt;p&gt;The website now has a personal blurb at the top of the homepage, along with some links to other pages and profiles around the web, including Gopher and Gemini, and a list of the ten most recent blog posts I&amp;rsquo;ve written. My CV is as before, but I&amp;rsquo;ve added a new section called &amp;ldquo;Works&amp;rdquo; which lists articles I&amp;rsquo;ve authored or contributed to, as well as some presentations and R packages I&amp;rsquo;ve written. My recipes are now held in the same Git repo as the website, and I figured out a neat way to automatically index the recipes based on their category (dessert, drinks, etc.) using Hugo&amp;rsquo;s list pages. I&amp;rsquo;ll explain more comprehensively how this works, because I think it might be useful for other people.&lt;/p&gt;
&lt;p&gt;The directory structure for my &lt;a href=&#34;http://johngodlee.xyz/recipes/&#34;&gt;recipes&lt;/a&gt;
 is as follows:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;content
└─ recipes
   ├─ _index.md
   ├─ bread
   │  ├─ _index.md
   │  ├─ beer_rolls.md
   │  ├─ ciabatta.md
   │  └─ potato_bread.md
   ├─ dessert
   │  ├─ _index.md
   │  ├─ chocolate_brownies.md
   │  ├─ elderberry_pie.md
   │  └─ victoria_sponge_cake.md
   └─ mains
      ├─ _index.md
      ├─ bean_chilli.md
      ├─ braised_leeks.md
      └─ yorkshire_pudding.md
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I have a &lt;code&gt;layouts/recipes/list.html&lt;/code&gt; that looks like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;{{ if (eq .Title &amp;#34;Recipes&amp;#34;) }}
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ul&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postlist&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
    {{ range .Sections.ByTitle }}
      &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;            
        &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ .RelPermalink }}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;{{ .Title }}&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
        {{ partial &amp;#34;recursive.html&amp;#34; . }}
      &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
    {{ end }}
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ul&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
{{ else }}
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ul&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;postlist&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
    {{ range .RegularPages }}
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ .RelPermalink }}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;{{ .Title | markdownify }}&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
    {{ end }}
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ul&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
{{ end }}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and &lt;code&gt;layouts/partials/recursive.html&lt;/code&gt; looks like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;{{ $child_pages := union .Sections .Pages }}
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ul&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
  {{ range $child_pages.ByTitle }}
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;                                    
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ .RelPermalink }}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt; {{ .Title }} &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
    {{ if or (.Sections) (.Pages) }}
    {{ partial &amp;#34;recursive.html&amp;#34; . }}
    {{ end }}
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
  {{ end }}
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;ul&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Each sub-category of recipes has a &amp;ldquo;title&amp;rdquo; in the YAML frontmatter of its own &lt;code&gt;_index.md&lt;/code&gt;, like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;---&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;title&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Drinks&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;---&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This title is used to populate the first level of the list in the recipes index, using this snippet from &lt;code&gt;layouts/recipes/list.html&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;    {{ range .Sections.ByTitle }}
      &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;            
        &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ .RelPermalink }}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;{{ .Title }}&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
        {{ partial &amp;#34;recursive.html&amp;#34; . }}
      &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;li&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
    {{ end }}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I got some inspiration on how to deal with this problem from &lt;a href=&#34;https://github.com/gbmhunter/blog/blob/master/layouts/partials/menu_recursive.html&#34; target=&#34;_blank&#34;&gt;this other Hugo website&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;Another thing that gave me some trouble was serving images. On my old website I used low-resolution dithered images in blog posts, and each image could be clicked to open a full resolution version of the image. In markdown, using Jekyll, I did this by nesting the low resolution image inside a link to the full resolution image:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;[&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;![alt text&lt;/span&gt;](&lt;span style=&#34;color:#c4a000&#34;&gt;{{ site.baseurl }}/img/test/test.png&lt;/span&gt;)]({{ site.baseurl }}/img_full/test/test.jpg)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But when I ported this over to Hugo, it was garbling the file path for the full resolution image, replacing &lt;code&gt;&amp;gt;&lt;/code&gt; with &lt;code&gt;&amp;amp;gt&lt;/code&gt; and so on. I found that Hugo shortcodes offered a much better way of constructing these image calls. I used the default Hugo figure shortcode as a base to create my own &lt;code&gt;img&lt;/code&gt; shortcode:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;figure&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
  {{- if .Get &amp;#34;link&amp;#34; -}}
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ .Get &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;link&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
  {{- end -}}
      &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;img&lt;/span&gt; 
        &lt;span style=&#34;color:#a40000&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;or&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;(.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;Get&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;alt&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;)&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;(.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;Get&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;caption&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;)&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}&lt;/span&gt;
          &lt;span style=&#34;color:#c4a000&#34;&gt;alt&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ with .Get &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;alt&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;Get&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;caption&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;markdownify&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;plainify&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;end&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}&amp;#34;&lt;/span&gt;
          &lt;span style=&#34;color:#c4a000&#34;&gt;title&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ with .Get &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;alt&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;Get&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;caption&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;markdownify&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;plainify&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}{{&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;end&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}&amp;#34;&lt;/span&gt;
        &lt;span style=&#34;color:#a40000&#34;&gt;{{&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;end&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;}}&lt;/span&gt;
        &lt;span style=&#34;color:#c4a000&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{{ .Get &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a40000&#34;&gt;}}&amp;#34;&lt;/span&gt; 
      &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;/&amp;gt;&lt;/span&gt;
  {{- if .Get &amp;#34;link&amp;#34; -}}
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;a&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
  {{- end -}}
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;figure&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then I can call this shortcode in a markdown file like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;{{&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;img&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;link&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/img_full/test/test.jpg&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/img/test/test.png&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#c4a000&#34;&gt;alt&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;alt text&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Finally, I should also mention that the RSS feed URL has changed slightly, the new RSS feed is:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://johngodlee.xyz/index.xml&#34; target=&#34;_blank&#34;&gt;https://johngodlee.xyz/index.xml&lt;/a&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Walking three days of the Cleveland Way</title>
      <link>http://johngodlee.xyz/posts/2021-10-12-cleveland_way/</link>
      <pubDate>Tue, 12 Oct 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-10-12-cleveland_way/</guid>
      <description>&lt;p&gt;The Cleveland Way is a National Trail in the UK, running 109 miles around the edge of the North York Moors National Park. It starts in Helmsley, and ends on Filey Brigg, near Filey. It&amp;rsquo;s definitely a trail in two parts, with the first part mostly on moorland or through wooded valleys, and the second part along cliffs and built-up areas by the coast. I walked the in-land part, from Helmsley to Guisborough. I set off from Helmsley on Sunday in the early afternoon, and got to Guisborough in the afternoon on Tuesday.&lt;/p&gt;
&lt;p&gt;There were lots of people walking the stretch of path closest to Helmsley. Most of them were coming back towards Helmsley in the mid-afternoon when I went through. Maybe there&amp;rsquo;s a round walk to Rievaulx Abbey, which is an impressive ruin of a Cistercian monastery. There were woodlands with Beech, Ash, and Hazel coppice along the path edge, and dry stone walls that have become ruined over time, since the field boundaries were abandoned in favour of a wire fence. There were some very nice wet dells with ferns and lichens growing on the tree branches. Reasonable signposting of the trail except before the Byland turn-off, where many paths meet at the bottom of a shallow valley.&lt;/p&gt;
&lt;p&gt;I cut off a stretch of the official path where it dog legs to the south to meet the car park at Sutton Bank viewing point, to avoid people, cars and a road crossing. The shortcut was a bit dull, across fields and a horse training area, but I didn&amp;rsquo;t miss any views, as I rejoined Sutton Bank just a bit further along. I hit the bank as the sun was setting. Bright and clear and blustery, after the showers had gone the air was crisp. I probably saw my house from the top of Sutton Bank, but I didn&amp;rsquo;t know where to look.&lt;/p&gt;
&lt;p&gt;I found a great spot to set up the tarp for camping on the first night, in some woods up the hill from “Hell Hole” and just to the south of High Paradise Farm. The woodland patch was owned by the Forestry commission, with Beech and Larch. I found a good ditch area where nobody could see me, on soft leaf litter under beech trees, just up the hill from the main path of the Cleveland Way. I had to move a few dead branches that were hung up to put my mind at ease, but really it was pretty sheltered up there on the leeward side of the wood. In total on the first day, I walked 10.8 miles (17.4 km).&lt;/p&gt;
&lt;p&gt;The maps below show my route (purple), the route of the Cleveland Way (red), and the campsites I found (green triangles).&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/cleveland_way/camp.jpg&#34;&gt;&lt;img
          alt=&#34;Campsite on night one, under tarp&#34;
          title=&#34;Campsite on night one, under tarp&#34;src=&#34;http://johngodlee.xyz/img/cleveland_way/camp.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/cleveland_way/day_1.png&#34;&gt;&lt;img
          alt=&#34;Map of first day walk&#34;
          title=&#34;Map of first day walk&#34;src=&#34;http://johngodlee.xyz/img/cleveland_way/day_1.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;The next morning the sun rose at about 07:00, and I was away by 08:00. I stole some water from the shower cubicles for campers at High Paradise Farm. It was very misty and nicely chilly across the moors. I didn&amp;rsquo;t meet anybody else until I got close to Osmotherley. I saw lots of grouse and pheasants, all in preparation for shooting later in the autumn. It seems quite un-sporting when the moors are stocked that densely. I came across a shooting party primed and ready to go as I walked into Osmotherley. I had to walk right through the middle of them to continue along my path. I was lucky they hadn&amp;rsquo;t started yet as they were shooting right up towards my path, which seemed pretty dangerous.&lt;/p&gt;
&lt;p&gt;I got a cheese sandwich and more water from the village shop at Osmotherley and pressed on up the hill and back up onto the moors. It started to get sunnier throughout the day, and I saw Rosebury Topping for the first time about midday. Also I saw the infamous Bilsdale mast, which was damaged by fire a few months ago, disrupting TV signal across North Yorkshire. I think I also saw one of the temporary masts at the edge of the cliffs coming out of Osmotherley, surrounded by greedy diesel generators.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/cleveland_way/rosebury.jpg&#34;&gt;&lt;img
          alt=&#34;View across the North York Moors, with Rosebury Topping&#34;
          title=&#34;View across the North York Moors, with Rosebury Topping&#34;src=&#34;http://johngodlee.xyz/img/cleveland_way/rosebury.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;The path started to get more up and down as the day wore on. There was a nice section going through some woodland with little streams and damp dells, with big oak trees and ferns. Then just before the end of the day near Clay Bank there were four rounds of climbing around 100 m then immediately back down and then back up to the next peak. Some of the rocky tors on top of the peaks were very impressive. I saw heavy showers dumping onto Middlesbrough and Redcar, but I missed all of them except one right at the end of the day.&lt;/p&gt;
&lt;p&gt;After I came down to the car park at Clay Bank, I diverged from the Cleveland Way to try and find a camping spot in a forestry area just down at the bottom of what I think was a glacial corrie that the Cleveland Way ran on top of. I searched for a long time but most of the patches either had too much bracken, or the trees were too young and bunched together. By the time I found a spot I was exhausted. It wasn&amp;rsquo;t a great spot either, quite cramped and on damp grassy ground among some birch trees. I set up the tarp in a lean-to style, with one side pegged directly into the ground, the middle running through a ridge line, and the other side tied to some trees. I walked a total of about 19.8 miles (31.9 km) on the second day.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/cleveland_way/day_2.png&#34;&gt;&lt;img
          alt=&#34;Map of second day walk&#34;
          title=&#34;Map of second day walk&#34;src=&#34;http://johngodlee.xyz/img/cleveland_way/day_2.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;It rained a lot overnight, so I was quite glad I&amp;rsquo;d set up the tarp in a more rigid style and closer to the ground. I had to do some rearrangement in the middle of the night to stop myself getting splashed though. I used the tarp to collect some water, which I had run out of, so not all bad.&lt;/p&gt;
&lt;p&gt;It stopped raining at about 06:45, just right for me to pack up the tarp and get back up onto the top of the corrie to rejoin the Cleveland Way. By coincidence my camping spot was near a steep footpath that zig-zagged up the corrie. The rain turned it into a small stream. At the top of the ridge all was in fog. Again that cool chilly quiet air that I enjoy in the mornings when walking. I taped up a blister on my left heel and put on a dry sock. I think I&amp;rsquo;m getting better at responding to uncomfortable feet before they develop into worse ailments, but my old boots aren&amp;rsquo;t helping, as the inside heel is wearing away. While taping up my feet I was passed by two Geordie men who had all the kit, far too much for a day hike. They said they were doing an aimless walk on the moorland access paths back to their car at Clay bank. The North York Moors has miles of these moorland hardcore paths that are open access for people on foot, at the deference of the land owners, who mostly appear to keep for grouse and sheep. I short-cutted a few silly dog legs on the Cleveland Way using these access paths. On one of them I found the ruins and information panel for an old engine that used to lower and raise materials for lead mining in the area, at a place called Ingleby Bank.&lt;/p&gt;
&lt;p&gt;It was very sunny as I made my way towards Kildale, with rainbows and clear air casting all the way across to Redcar and the sea. I started having conversations with the sheep about their sheep tick problems. On the way down to Kildale it was a long and uncomfortable descent on tarmac, which hurt my feet, particularly my toes, which got a bit skinned on my right foot.&lt;/p&gt;
&lt;p&gt;I sheltered from a rainstorm in the Kildale Memorial Shelter in the village square, and used the loo at the train station. From there the weather got markedly worse. It got very wet and cold going up towards Captain Cook monument, and Rosebury Topping was cloudy, so I didn&amp;rsquo;t climb it, though I was tired enough by then that I didn&amp;rsquo;t really want to, so the cloud was a good excuse. I passed some dog walkers around Captain Cook Monument, but very little else. Although this final section wasn&amp;rsquo;t actually very long, it took me a long time, partly because of the rain.&lt;/p&gt;
&lt;p&gt;The final bit of track towards Guisborough followed the ridge of the valley, and through Guisborough woods, which turned out to be a very active forestry operation. The machines had really torn up the ground, I reckon about 5 foot deep ruts in some places. Then down the snakey paths into Guisborough, and into the Fox Inn, which had a decent deal on a room for the night. Though the room itself was very basic, and a bit rough around the edges. I loaded up on beer from Morrison&amp;rsquo;s and got a chicken burger from a take-away shop, and settled in for some TV. On this final day I walked 16.5 miles (26.6 km).&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/cleveland_way/day_3.png&#34;&gt;&lt;img
          alt=&#34;Map of third day walk&#34;
          title=&#34;Map of third day walk&#34;src=&#34;http://johngodlee.xyz/img/cleveland_way/day_3.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Predictably, after I&amp;rsquo;d rung up the pub for a room I found a perfect camping spot near the bottom of Guisborough woods, on flat ground under some beautiful big beech trees. I think beech trees are my favourite type of trees to sleep under. They suppress the undergrowth and form a soft well drained carpet of leaf litter, which often bears interesting mushrooms. Still, I&amp;rsquo;m not sure I could have easily kept warm in my wet gear this evening, as it is raining again.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Mulching trees to stop grass growth</title>
      <link>http://johngodlee.xyz/posts/2021-09-30-mulching/</link>
      <pubDate>Thu, 30 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-09-30-mulching/</guid>
      <description>&lt;p&gt;The trees we planted back in February are doing well, but the grass has been growing a lot because there aren&amp;rsquo;t any sheep in the field anymore. Left unmanaged, the grass would grow very tall and possibly impede the growth of the trees. We&amp;rsquo;ve had two sprays of glyphosate herbicide on the grass around the trees to keep it down, but I don&amp;rsquo;t like spraying too much because of the adverse impact it might have on the rest of the ecosystem, and the risk that it might damage the trees. Also, although the herbicide kills the grass, the dead grass doesn&amp;rsquo;t disappear. I wonder what effect this build up of dead grass will have on what grows there next year. As a more long term solution, I&amp;rsquo;ve been mulching around the trees with wood chips. This is very labour intensive, but it&amp;rsquo;s clear from observation that an application of mulch is much more effective than spraying over the long term.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/mulching/glyphosate.jpg&#34;&gt;&lt;img
          alt=&#34;The effects of glyphosate herbicide on the grass&#34;
          title=&#34;The effects of glyphosate herbicide on the grass&#34;src=&#34;http://johngodlee.xyz/img/mulching/glyphosate.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;First, the grass has to be cut around the tree, so the mulch will sit and not slide off. I&amp;rsquo;ve been using long-handled garden shears to do this. This is the part of the process which takes the most time.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/mulching/cut.jpg&#34;&gt;&lt;img
          alt=&#34;A freshly cut area of grass around a tree&#34;
          title=&#34;A freshly cut area of grass around a tree&#34;src=&#34;http://johngodlee.xyz/img/mulching/cut.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Then, the mulch can be added around the tree. I&amp;rsquo;ve been making a layer about 2-3 inches thick. It&amp;rsquo;s important that the mulch isn&amp;rsquo;t piled up around the tree, because this can encourage fungal diseases at the base of the tree.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/mulching/mulch.jpg&#34;&gt;&lt;img
          alt=&#34;An application of mulch around a tree&#34;
          title=&#34;An application of mulch around a tree&#34;src=&#34;http://johngodlee.xyz/img/mulching/mulch.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;I&amp;rsquo;ve been noting down on my new stem map which trees have been mulched, so I can see whether it decreases mortality over the next few years.&lt;/p&gt;
&lt;p&gt;Using the Kawasaki Mule to transport the wood chips has greatly reduced the amount of labour, as it can drive down the rows of trees, which are only 2.5 m apart.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/mulching/mule.jpg&#34;&gt;&lt;img
          alt=&#34;Wood chips in the back of the Mule&#34;
          title=&#34;Wood chips in the back of the Mule&#34;src=&#34;http://johngodlee.xyz/img/mulching/mule.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


</description>
    </item>
    
    <item>
      <title>Display lots of points with tiles in ggplot2</title>
      <link>http://johngodlee.xyz/posts/2021-09-25-point_tile/</link>
      <pubDate>Sat, 25 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-09-25-point_tile/</guid>
      <description>&lt;p&gt;I was making a map for my PhD thesis which showed the locations of field studies of the &lt;a href=&#34;https://doi.org/10.1146/annurev-ecolsys-120213-091917&#34; target=&#34;_blank&#34;&gt;Biodiversity-Ecosystem Function Relationship&lt;/a&gt;
, taken from three meta-analyses (&lt;a href=&#34;https://doi.org/10.1038/nature23886&#34; target=&#34;_blank&#34;&gt;Duffy et al. 2017&lt;/a&gt;
, &lt;a href=&#34;https://doi.org/10.1016/j.tree.2017.02.012&#34; target=&#34;_blank&#34;&gt;Clarke et al. 2014&lt;/a&gt;
, and &lt;a href=&#34;https://doi.org/10.1126/science.aaf8957&#34; target=&#34;_blank&#34;&gt;Liang et al. 2016&lt;/a&gt;
). I wanted to demonstrate how few studies have been conducted in southern Africa, with the purpose of showing the reader that this is a problem that I was going to solve in the thesis.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/point_tile/befr_map.png&#34;&gt;&lt;img
          alt=&#34;Original map of BEFR studies&#34;
          title=&#34;Original map of BEFR studies&#34;src=&#34;http://johngodlee.xyz/img/point_tile/befr_map.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;I wanted to include the map in my thesis as vector graphics, because they compress better than raster images and look crisper on the computer screen. The problem was that the .pdf output of the map from ggplot2 in R was 22.5 MB, which on its own is about as large as the rest of the thesis pdf. The reason the file was so large is because there were lots of overlapping points.&lt;/p&gt;
&lt;p&gt;I spent a long time thinking about technical ways to reduce the file size, using different exporter libraries like Cairo, or using an alternative file type, but nothing managed to maintain the quality of the original image while also reducing the file size.&lt;/p&gt;
&lt;p&gt;In the end, I decided to redesign the map to use raster tiles instead of points. A tile was counted as filled if there was at least one point found within it. Here is the code I used to convert the points to raster, in R:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;sf&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dplyr&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ggplot2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;rnaturalearth&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;raster&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;world&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ne_countries&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;returnclass&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;sf&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;filter&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;continent&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Antarctica&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;coord_all&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;readRDS&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;dat/coord_all.rds&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;coord_all&lt;/code&gt; is a list of three dataframes, each from a different meta-analysis, where each dataframe has two columns with the latitude and longitude of each study. Next I &lt;code&gt;lapply()&lt;/code&gt; over each dataframe. First I convert the dataframe to &lt;code&gt;sf&lt;/code&gt; points, then create an empty raster spanning the whole earth, then use &lt;code&gt;rasterize()&lt;/code&gt; to fill the raster and finally convert the raster to a dataframe for plotting in &lt;code&gt;ggplot()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;coord_all_rast&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;coord_all&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;x_sf&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;st_as_sf&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x[&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;coords&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lon&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lat&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;st_set_crs&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;4326&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;x_rast&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;raster&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;crs&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;crs&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x_sf&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;vals&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;resolution&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ext&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;extent&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;-180&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;180&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;-90&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;90&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;rasterize&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x_sf&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;.)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;as&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;SpatialPixelsDataFrame&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;as.data.frame&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;.)&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x_rast&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then it&amp;rsquo;s just a case of using &lt;code&gt;geom_tile()&lt;/code&gt; on each dataframe. I stacked the tile layers according to the number of filled tiles, as the dark blue layer doesn&amp;rsquo;t have many filled tiles and was getting masked by the dark green layer.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Plot&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;map&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ggplot&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;geom_sf&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;world&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;colour&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;black&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;fill&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;NA&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0.25&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;geom_tile&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;coord_all_rast[[2]]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;aes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;fill&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;darkgreen&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;alpha&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;geom_tile&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;coord_all_rast[[3]]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;aes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;fill&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;darkred&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;alpha&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;geom_tile&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;coord_all_rast[[1]]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;aes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;fill&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;darkblue&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;alpha&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;theme_void&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;theme&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;legend.position&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;none&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; 

&lt;span style=&#34;color:#000&#34;&gt;pdf&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;file&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;img/befr_map.pdf&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;width&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;height&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;3.5&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;map&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;dev.off&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/point_tile/befr_map_tile.png&#34;&gt;&lt;img
          alt=&#34;The updated map, using geom_tile&#34;
          title=&#34;The updated map, using geom_tile&#34;src=&#34;http://johngodlee.xyz/img/point_tile/befr_map_tile.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


</description>
    </item>
    
    <item>
      <title>Data management during and after my PhD</title>
      <link>http://johngodlee.xyz/posts/2021-09-20-phd_mgmt/</link>
      <pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-09-20-phd_mgmt/</guid>
      <description>&lt;p&gt;During my PhD I spent a lot of time collecting field data. Along with colleagues from Angola I setup 15 1 ha permanent woodland survey plots in Bicuar National Park, Angola, where we conducted a census of all woody stems &amp;gt;5 cm diameter, and made additional measurements of the grass biomass and tree canopy cover. These plots will hopefully have another census in 2023. I also collected terrestrial LiDAR data in 22 1 ha woodland plots, all 15 in Bicuar National Park and an additional seven in southern Tanzania, to quantify canopy complexity.&lt;/p&gt;
&lt;p&gt;I think these two datasets form a key product of my PhD thesis. PhD students often &lt;a href=&#34;https://hal.univ-lille.fr/hal-01248979&#34; target=&#34;_blank&#34;&gt;generate a lot of data&lt;/a&gt;
, but only a minority of PhD students develop a long-term plan for &lt;a href=&#34;https://www.researchgate.net/publication/305395587_Research_traditions_and_emerging_expectations_PhD_students_and_their_research_data_management&#34; target=&#34;_blank&#34;&gt;data management&lt;/a&gt;
 and data dissemination. I chose to write an extra chapter in my thesis all about the multiple uses of the data I collected, and it&amp;rsquo;s contribution to the greater good of the field, but it requires that the data are properly archived, managed, and advertised, otherwise nobody else will want to use it. Like the investigative chapters of the thesis, which I hope can be converted into manuscripts for peer-review, extending their lifespan and making them more impactful by reaching a larger audience, I hope that I can ensure the data I collected during my PhD has a legacy beyond just my PhD thesis.&lt;/p&gt;
&lt;p&gt;Lots of universities have a data management plan web page, these are some of the first results from Google for &amp;ldquo;phd data management&amp;rdquo;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.ucl.ac.uk/library/research-support/research-data-management/policies/writing-data-management-plan&#34; target=&#34;_blank&#34;&gt;University College London&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.york.ac.uk/library/info-for/researchers/data/planning/&#34; target=&#34;_blank&#34;&gt;University of York&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sheffield.ac.uk/library/rdm/dmp&#34; target=&#34;_blank&#34;&gt;University of Sheffield&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://library.bath.ac.uk/research-data/data-management-plans/university-dmp-templates&#34; target=&#34;_blank&#34;&gt;University of Bath&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://library.leeds.ac.uk/info/14062/research_data_management/62/data_management_planning&#34; target=&#34;_blank&#34;&gt;University of Leeds&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://libcal.liverpool.ac.uk/event/3671658&#34; target=&#34;_blank&#34;&gt;University of Liverpool&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://intranet.birmingham.ac.uk/as/libraryservices/library/research/rdm/data-management-plans.aspx&#34; target=&#34;_blank&#34;&gt;University of Birmingham&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.bristol.ac.uk/staff/researchers/data/&#34; target=&#34;_blank&#34;&gt;University of Bristol&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.exeter.ac.uk/research/researchdatamanagement/before/plans/&#34; target=&#34;_blank&#34;&gt;University of Exeter&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://library.soton.ac.uk/researchdata/phd&#34; target=&#34;_blank&#34;&gt;University of Southampton&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The University of Edinburgh, where I did my PhD, also has one, but I didn&amp;rsquo;t see it until writing this blog post, a week after handing in.&lt;/p&gt;
&lt;p&gt;Writing a DMP | The University of Edinburgh&lt;/p&gt;
&lt;p&gt;At the end of the first year of my PhD I wrote a &amp;ldquo;Confirmation Report&amp;rdquo;. In other institutions I&amp;rsquo;ve heard them referred to as &amp;ldquo;Upgrades&amp;rdquo;. It&amp;rsquo;s sort of a friendly examination that makes sure you have a developed plan for what to do during the PhD, before it&amp;rsquo;s too late. You write a report that&amp;rsquo;s part literature review and part methodology proposal, then have a mini &lt;em&gt;viva&lt;/em&gt; with some other academics. I always felt like my confirmation report should have required a data management plan, similar to how it required an ethics assessment and a timeframe, but it didn&amp;rsquo;t. We did have a short presentation on data management during the &amp;ldquo;Research Planning and Management&amp;rdquo; course in the first year of the PhD, which consisted mostly of information on how to store data on the University network. I would have liked to see more guidance on how to manage and archive large volumes of data (TBs), both during and after the PhD, to ensure that data is usable by others, and by your future self.&lt;/p&gt;
&lt;p&gt;For the plot census data, which was only a couple of GBs, I have stored the data in three places:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;University datastore - accessible by ssh, backed up regularly by the University&lt;/li&gt;
&lt;li&gt;Hard drive stored at my parent&amp;rsquo;s house&lt;/li&gt;
&lt;li&gt;Hard drive stored at my house&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This conforms to the &lt;a href=&#34;https://en.wikipedia.org/wiki/Backup#3-2-1_rule&#34; target=&#34;_blank&#34;&gt;3-2-1 backup rule&lt;/a&gt;
, which recommends keeping at least &lt;strong&gt;3&lt;/strong&gt; copies of the data, with at least &lt;strong&gt;2&lt;/strong&gt; different media types (hard drive, network share), and store &lt;strong&gt;1&lt;/strong&gt; copy off-site (I have two different off-site locations, University, parent&amp;rsquo;s house). I also have &amp;ldquo;cleaned&amp;rdquo; versions of the plot census data hosted on the &lt;a href=&#34;https://seosaw.github.io/&#34; target=&#34;_blank&#34;&gt;SEOSAW database&lt;/a&gt;
, which makes the data accessible to other researchers under agreement. I&amp;rsquo;ve already had a few other projects request to use the data, which is very nice to see.&lt;/p&gt;
&lt;p&gt;One thing that I didn&amp;rsquo;t keep good track of for a little while was only using one copy as the &amp;lsquo;primary&amp;rsquo; copy, and using the others as backup only. At one point I was writing new data to both my personal hard drives and I got mixed up. Since then, I put one of the hard drives in a cupboard out of site, to deter me from writing data to it unless I wanted to do a backup. As an aside, I use &lt;a href=&#34;https://www.google.com/search?hl=en&amp;amp;q=rsync&#34; target=&#34;_blank&#34;&gt;rsync&lt;/a&gt;
 to make backups. It&amp;rsquo;s quick and efficient and very rarely fails. I have plans to buy a NAS (Network Attached Storage), the &lt;a href=&#34;https://www.synology.com/en-us/products/DS420&amp;#43;&#34; target=&#34;_blank&#34;&gt;Synology DS420&amp;#43;&lt;/a&gt;
 looks nice, but for now having loose hard drives will have to suffice.&lt;/p&gt;
&lt;p&gt;The LiDAR data consists of raw .zfs files exported directly from the scanner, databases built by Cyclone (Leica&amp;rsquo;s proprietary LiDAR processing software), PTX files outputted by Cyclone, and LAZ files created by me which compress the &lt;em&gt;huge&lt;/em&gt; PTX files to a more manageable binary format.&lt;/p&gt;
&lt;p&gt;The key items to keep in my opinion are the raw .zfs files, and the PTX files, as they constitute the raw untouched data in open formats, but the LAZ files are the ones I&amp;rsquo;ll probably use most on a day to day basis, simply because they are small enough that drive I/O isn&amp;rsquo;t a bottleneck for processing time.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve got the LAZ files backed up in the same places as the plot census data, and also in a &lt;a href=&#34;https://datashare.ed.ac.uk/handle/10283/3997&#34; target=&#34;_blank&#34;&gt;DataShare repository&lt;/a&gt;
, which gives them a permanent DOI and makes them available for others to use. The scan databases I don&amp;rsquo;t think I will back up, because every aspect of information in them is represented in some other file. The only convenience of keeping them is that I would be able to quickly boot up Cyclone and use their very good 3D rendering, but &lt;a href=&#34;https://www.danielgm.net/cc/&#34; target=&#34;_blank&#34;&gt;Cloud Compare&lt;/a&gt;
 is enough for me most of the time. The PTX files I have backed up both on my personal hard drives, and also on cassette at the University, a service which costs about £50 per pair of tapes I think, which is very reasonable. This isn&amp;rsquo;t perfect as the cassette backup isn&amp;rsquo;t that accessible, but the PTX files are just so big that it&amp;rsquo;s difficult to keep them anywhere else. As long as I have two sets of hard drives, each stored in different places, they should be safe.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PhD keyboard</title>
      <link>http://johngodlee.xyz/posts/2021-09-10-keyboard/</link>
      <pubDate>Fri, 10 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-09-10-keyboard/</guid>
      <description>&lt;p&gt;My keyboard has served me well over the course of my PhD. I bought it second hand off gumtree for £4 in Edinburgh, and picked it up in an ASDA car park.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a Fujitsu Siemens KB SC, a model introduced in 2006, I think, I had a hard time finding information about it online. It has a UK (British) English 105 ISO key layout, with rubber dome switches, and connects by USB. The key caps are laser printed so the letters haven&amp;rsquo;t worn away at all. I very rarely use the numpad, but have done on occasion when entering data into a spreadsheet. I like having the full F-row, because I can use it with &lt;a href=&#34;https://karabiner-elements.pqrs.org/&#34; target=&#34;_blank&#34;&gt;Karabiner&lt;/a&gt;
 in macOS to control the volume as you would on a normal mac keyboard.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/keyboard/keyboard.jpg&#34;&gt;&lt;img
          alt=&#34;Keyboard&#34;
          title=&#34;Keyboard&#34;src=&#34;http://johngodlee.xyz/img/keyboard/keyboard.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


</description>
    </item>
    
    <item>
      <title>Sensible page breaks in LaTeX grouped longtables</title>
      <link>http://johngodlee.xyz/posts/2021-08-31-longtable_break/</link>
      <pubDate>Tue, 31 Aug 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-08-31-longtable_break/</guid>
      <description>&lt;p&gt;I had a &lt;code&gt;longtable&lt;/code&gt; in a LaTeX document that was grouped, with &lt;code&gt;multirow&lt;/code&gt; items and &lt;code&gt;midrule&lt;/code&gt;s which delimited the groups. The problem was that when the table broke across two pages, the groups were split and the multirow was not repeated on the second page, making the table look very messy. For example:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/longtable_break/messy.png&#34;&gt;&lt;img
          alt=&#34;A messy grouped longtable&#34;
          title=&#34;A messy grouped longtable&#34;src=&#34;http://johngodlee.xyz/img/longtable_break/messy.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;I learned this trick from the &lt;code&gt;longtable&lt;/code&gt; documentation that can be used to prevent the table breaking at certain lines. Simply use the &lt;code&gt;*&lt;/code&gt; variant of &lt;code&gt;\\&lt;/code&gt;, i.e. &lt;code&gt;\\*&lt;/code&gt;, on all lines where the table isn&amp;rsquo;t allowed to break, and it will only break at the end of a group. For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;longtable&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;ccc&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\caption&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;A better looking table&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
	&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\toprule&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;X&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Y&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Value&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt;
	&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\midrule&lt;/span&gt;
	&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\endfirsthead&lt;/span&gt;
	&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\toprule&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;X&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Y&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Value&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt;
	&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\midrule&lt;/span&gt;
	&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\endhead&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;A&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;A&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 1 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 2 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 4 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt;
   &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\midrule&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;A&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;B&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 1 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 2 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 4 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt;
   &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\midrule&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;A&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;C&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 1 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 2 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 4 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt;
   &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\midrule&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;A&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\multirow&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;*&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;D&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 1 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 2 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\*&lt;/span&gt;
   &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt;  &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 4 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt;
   &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\bottomrule&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;longtable&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;which produces this much prettier looking table:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/longtable_break/clean.png&#34;&gt;&lt;img
          alt=&#34;a cleaner grouped longtable&#34;
          title=&#34;a cleaner grouped longtable&#34;src=&#34;http://johngodlee.xyz/img/longtable_break/clean.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


</description>
    </item>
    
    <item>
      <title>Collecting qualitative colour palettes</title>
      <link>http://johngodlee.xyz/posts/2021-08-21-qualpal/</link>
      <pubDate>Sat, 21 Aug 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-08-21-qualpal/</guid>
      <description>&lt;p&gt;I have been curating a &lt;a href=&#34;&#34;&gt;personal R package&lt;/a&gt;
 for a few months now, to try and organise the many snippets of R code that I tend to reuse in different projects. The package isn&amp;rsquo;t on CRAN, but it is on Github for anybody interested. One of the functions I keep is essentially a list of qualitative colour palettes. Some are my original creations, but most are lifted from other packages, or examples I&amp;rsquo;ve seen somewhere online. It&amp;rsquo;s incredibly difficult to come up with categorical colour schemes for more than about five categories, and it can be frustrating trying to find colour combinations which maximise readability across a range of colour-blindness conditions, and which look good.&lt;/p&gt;
&lt;p&gt;These colours come from &lt;a href=&#34;https://carto.com/carto-colors/&#34; target=&#34;_blank&#34;&gt;CARTOColors&lt;/a&gt;
:&lt;/p&gt;
&lt;p&gt;Antique:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/carto_colors_antique.png&#34;&gt;&lt;img
          alt=&#34;antique&#34;
          title=&#34;antique&#34;src=&#34;http://johngodlee.xyz/img/qualpal/carto_colors_antique.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Bold:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/carto_colors_bold.png&#34;&gt;&lt;img
          alt=&#34;bold&#34;
          title=&#34;bold&#34;src=&#34;http://johngodlee.xyz/img/qualpal/carto_colors_bold.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Pastel:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/carto_colors_pastel.png&#34;&gt;&lt;img
          alt=&#34;pastel&#34;
          title=&#34;pastel&#34;src=&#34;http://johngodlee.xyz/img/qualpal/carto_colors_pastel.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Prism:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/carto_colors_prism.png&#34;&gt;&lt;img
          alt=&#34;prism&#34;
          title=&#34;prism&#34;src=&#34;http://johngodlee.xyz/img/qualpal/carto_colors_prism.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Safe:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/carto_colors_safe.png&#34;&gt;&lt;img
          alt=&#34;safe&#34;
          title=&#34;safe&#34;src=&#34;http://johngodlee.xyz/img/qualpal/carto_colors_safe.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Vivid:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/carto_colors_vivid.png&#34;&gt;&lt;img
          alt=&#34;vivid&#34;
          title=&#34;vivid&#34;src=&#34;http://johngodlee.xyz/img/qualpal/carto_colors_vivid.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;These colours come from &lt;a href=&#34;https://colorbrewer2.org&#34; target=&#34;_blank&#34;&gt;ColorBrewer&lt;/a&gt;
:&lt;/p&gt;
&lt;p&gt;Dark2:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/color_brewer_dark2.png&#34;&gt;&lt;img
          alt=&#34;dark2&#34;
          title=&#34;dark2&#34;src=&#34;http://johngodlee.xyz/img/qualpal/color_brewer_dark2.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Set1:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/color_brewer_set1.png&#34;&gt;&lt;img
          alt=&#34;set1&#34;
          title=&#34;set1&#34;src=&#34;http://johngodlee.xyz/img/qualpal/color_brewer_set1.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Set3:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/color_brewer_set3.png&#34;&gt;&lt;img
          alt=&#34;set3&#34;
          title=&#34;set3&#34;src=&#34;http://johngodlee.xyz/img/qualpal/color_brewer_set3.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;These colours come from &lt;a href=&#34;http://tsitsul.in/blog/coloropt/&#34; target=&#34;_blank&#34;&gt;Anton Tsitsulin&amp;amp;rsquo;s Optimal qualitative colour palettes&lt;/a&gt;
:&lt;/p&gt;
&lt;p&gt;Bright6:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/coloropt_bright6.png&#34;&gt;&lt;img
          alt=&#34;bright6&#34;
          title=&#34;bright6&#34;src=&#34;http://johngodlee.xyz/img/qualpal/coloropt_bright6.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Dark6:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/coloropt_dark6.png&#34;&gt;&lt;img
          alt=&#34;dark6&#34;
          title=&#34;dark6&#34;src=&#34;http://johngodlee.xyz/img/qualpal/coloropt_dark6.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Fancy6:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/coloropt_fancy6.png&#34;&gt;&lt;img
          alt=&#34;fancy6&#34;
          title=&#34;fancy6&#34;src=&#34;http://johngodlee.xyz/img/qualpal/coloropt_fancy6.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Normal6:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/coloropt_normal6.png&#34;&gt;&lt;img
          alt=&#34;normal6&#34;
          title=&#34;normal6&#34;src=&#34;http://johngodlee.xyz/img/qualpal/coloropt_normal6.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Normal12:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/coloropt_normal12.png&#34;&gt;&lt;img
          alt=&#34;normal12&#34;
          title=&#34;normal12&#34;src=&#34;http://johngodlee.xyz/img/qualpal/coloropt_normal12.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Tarnish6:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/coloropt_tarnish6.png&#34;&gt;&lt;img
          alt=&#34;tarnish6&#34;
          title=&#34;tarnish6&#34;src=&#34;http://johngodlee.xyz/img/qualpal/coloropt_tarnish6.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;These are from Python&amp;rsquo;s &lt;a href=&#34;https://seaborn.pydata.org/&#34; target=&#34;_blank&#34;&gt;Seaborn colours&lt;/a&gt;
:&lt;/p&gt;
&lt;p&gt;Colorblind:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/seaborn_colorblind.png&#34;&gt;&lt;img
          alt=&#34;colorblind&#34;
          title=&#34;colorblind&#34;src=&#34;http://johngodlee.xyz/img/qualpal/seaborn_colorblind.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Deep:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/seaborn_deep.png&#34;&gt;&lt;img
          alt=&#34;deep&#34;
          title=&#34;deep&#34;src=&#34;http://johngodlee.xyz/img/qualpal/seaborn_deep.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Muted:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/seaborn_muted.png&#34;&gt;&lt;img
          alt=&#34;muted&#34;
          title=&#34;muted&#34;src=&#34;http://johngodlee.xyz/img/qualpal/seaborn_muted.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Default:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/seaborn_default.png&#34;&gt;&lt;img
          alt=&#34;default&#34;
          title=&#34;default&#34;src=&#34;http://johngodlee.xyz/img/qualpal/seaborn_default.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;This is the &lt;a href=&#34;https://ethanschoonover.com/solarized/&#34; target=&#34;_blank&#34;&gt;Solarized accent colours&lt;/a&gt;
:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/solarized_accent.png&#34;&gt;&lt;img
          alt=&#34;solarized accent&#34;
          title=&#34;solarized accent&#34;src=&#34;http://johngodlee.xyz/img/qualpal/solarized_accent.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;And these are my own colours:&lt;/p&gt;
&lt;p&gt;Movie:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/movie_4.png&#34;&gt;&lt;img
          alt=&#34;movie&#34;
          title=&#34;movie&#34;src=&#34;http://johngodlee.xyz/img/qualpal/movie_4.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Highlighter:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/qualpal/highlighter.png&#34;&gt;&lt;img
          alt=&#34;highlighter&#34;
          title=&#34;highlighter&#34;src=&#34;http://johngodlee.xyz/img/qualpal/highlighter.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;The function, in case you want to just copy the hex codes:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; Qualitative colour palettes&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; @return named list of qualitative colour palettes as vectors of hex-codes&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; &lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; @details The \code{color_brewer_*} palettes come from \url{https://colorbrewer2.org/}.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39;     The \code{seaborn_*} palettes come from \url{https://seaborn.pydata.org/}.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39;     The \code{carto_colors_*} palettes come from \url{https://carto.com/carto-colors/}.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39;     The \code{solarized_accent} palette comes from \url{https://ethanschoonover.com/solarized/}.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39;     The \code{coloropt_*} palettes come from \url{http://tsitsul.in/blog/coloropt/}.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39;     Other palettes are original.&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; &lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; @examples&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; qualPal()[[1]]&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; &lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; @export&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#&amp;#39; &lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;qualPal&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;list&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;movie_4&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#117733&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#b58900&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#855C75&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#ED645A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;highlighter&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#bbdf20&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#20dfa3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#4420df&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#df205c&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;color_brewer_set1&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#e41a1c&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#377eb8&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#4daf4a&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#984ea3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#ff7f00&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#ffff33&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#a65628&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#f781bf&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#999999&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;color_brewer_dark2&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#1b9e77&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#d95f02&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#7570b3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#e7298a&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#66a61e&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#e6ab02&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#a6761d&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#666666&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;color_brewer_set3&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8dd3c7&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#ffffb3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#bebada&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#fb8072&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#80b1d3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#fdb462&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#b3de69&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#fccde5&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;seaborn_default&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#1F77B4&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#FF7F0E&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#2CA02C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#D62728&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#9467BD&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8C564B&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E377C2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#7F7F7F&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#BCBD22&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#17BECF&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;seaborn_muted&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#4878D0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#EE854A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#6ACC64&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#D65F5F&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#956CB4&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8C613C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DC7EC0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#797979&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#D5BB67&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#82C6E2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;seaborn_colorblind&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#0173B2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DE8F05&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#029E73&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#D55E00&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CC78BC&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CA9161&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#FBAFE4&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#949494&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#ECE133&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#58B4E9&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;seaborn_deep&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#4C72B0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DD8452&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#55A868&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#C44E52&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8172B3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#937860&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DA8BC3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8C8C8C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CCB974&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#64B5CD&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;solarized_accent&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#b58900&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#cb4b16&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#dc322f&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#d33682&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#6c71c4&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#268bd2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#2aa198&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#859900&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;carto_colors_antique&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#855C75&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#D9AF6B&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#AF6458&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#736F4C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#526A83&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#625377&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#68855C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#9C9C5E&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#A06177&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8C785D&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#467378&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#7C7C7C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;carto_colors_bold&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#7F3C8D&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#11A579&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#3969AC&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#F2B701&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E73F74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#80BA5A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E68310&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#008695&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CF1C90&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#f97b72&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#4b4b8f&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#A5AA99&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;carto_colors_pastel&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#66C5CC&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#F6CF71&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#F89C74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DCB0F2&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#87C55F&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#9EB9F3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#FE88B1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#C9DB74&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8BE0A4&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#B497E7&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#D3B484&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#B3B3B3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;carto_colors_prism&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#5F4690&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#1D6996&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#38A6A5&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#0F8554&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#73AF48&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#EDAD08&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E17C05&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CC503E&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#94346E&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#6F4070&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#994E95&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#666666&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;carto_colors_safe&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#88CCEE&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CC6677&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DDCC77&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#117733&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#332288&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#AA4499&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#44AA99&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#999933&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#882255&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#661100&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#6699CC&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#888888&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;carto_colors_vivid&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E58606&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#5D69B1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#52BCA3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#99C945&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CC61B0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#24796C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DAA51B&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#2F8AC4&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#764E9F&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#ED645A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CC3A8E&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#A5AA99&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;coloropt_normal6&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#4053D3&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#DDB310&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#B51D14&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00BEFF&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#FB49B0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00B25D&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CACACA&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;coloropt_bright6&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#EFE645&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E935A1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00E3FF&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E1562C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#537EFF&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00CB85&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#EEEEEE&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;coloropt_dark6&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#005900&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#000078&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#490D00&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8A034F&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#005A8A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#443500&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#585858&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;coloropt_fancy6&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#56641A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#C0AFFB&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#E6A176&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00678A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#984464&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#5ECCAB&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#CDCDCD&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;coloropt_tarnish6&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#274D52&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#C7A2A6&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#818B70&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#604E3C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#8C9FB7&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#796880&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#C0C0C0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;coloropt_normal12&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#EBAC23&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#B80058&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#008CF9&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#006E00&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00BBAD&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#D163E6&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#B24502&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#FF9287&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#5954D6&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00C6F8&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#878500&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#00A76C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#BDBDBD&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Flowering Aechmea fasciata</title>
      <link>http://johngodlee.xyz/posts/2021-08-15-aechmea/</link>
      <pubDate>Sun, 15 Aug 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-08-15-aechmea/</guid>
      <description>&lt;p&gt;I have an &amp;ldquo;urn plant&amp;rdquo;, otherwise known as &lt;em&gt;Aechmea fasciata&lt;/em&gt;, which was given to me as a sucker by my Grandmother. It is native to Brazil and grows as an epiphyte on trees in moist tropical forest. It&amp;rsquo;s also cultivated as a house plant. Due to its epiphytic habit it doesn&amp;rsquo;t draw up much water through its roots, instead preferring to have water poured into the basal rosette. As it grows, juveniles grow as suckers from the base, which can be snipped off when they&amp;rsquo;re big enough and grown in a separate pot. I&amp;rsquo;ve given away four or five babies so far, and they are quite popular as gifts.&lt;/p&gt;
&lt;p&gt;It doesn&amp;rsquo;t flower very often in my experience, maybe once every 2-3 years, but when it does it looks excellent. The bud emerges from the centre of the basal rosette and can take a long time to grow to full size, a few months probably.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/aechmea/early.jpg&#34;&gt;&lt;img
          alt=&#34;Early bud&#34;
          title=&#34;Early bud&#34;src=&#34;http://johngodlee.xyz/img/aechmea/early.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;The flowers themselves are only quite small. They have a lavender colour that fades to pink as the flowers wilt. The main showy parts of the inflorescence are the bracts, I think they&amp;rsquo;re bracts anyway, which are bright pink and much larger than the flowers.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/aechmea/late.jpg&#34;&gt;&lt;img
          alt=&#34;Full bloom&#34;
          title=&#34;Full bloom&#34;src=&#34;http://johngodlee.xyz/img/aechmea/late.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


</description>
    </item>
    
    <item>
      <title>Grabbing BibTeX from a DOI</title>
      <link>http://johngodlee.xyz/posts/2021-08-08-doi2bib/</link>
      <pubDate>Sun, 08 Aug 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-08-08-doi2bib/</guid>
      <description>&lt;p&gt;There&amp;rsquo;s a website called &lt;a href=&#34;https://www.doi2bib.org/&#34; target=&#34;_blank&#34;&gt;doi2bib.org&lt;/a&gt;
 that takes a DOI and returns a BibTeX entry. I have been using it for a while to quickly get references for writing my PhD thesis. The website uses the DOI proxy server REST API in the background, so I figured it wouldn&amp;rsquo;t be too hard to use CURL directly on the API to do the same thing in the terminal, to save me opening my web browser. This CURL request works well, where &lt;code&gt;$1&lt;/code&gt; is the DOI.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-shell-script&#34; data-lang=&#34;shell-script&#34;&gt;curl -LH &amp;quot;Accept: application/x-bibtex&amp;quot; http://dx.doi.org/$1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In a similar vein, I wrote a script that grabs DOIs from a PDF. I used the regex for DOIs provided in a &lt;a href=&#34;https://www.crossref.org/blog/dois-and-matching-regular-expressions/&#34; target=&#34;_blank&#34;&gt;blog post on CrossRef&lt;/a&gt;
, which apparently matches 74.4 of 74.9 million registered DOIs. The script grabs the first DOI in the PDF by default, because that&amp;rsquo;s most often the DOI of the article itself, rather than DOIs for references in the article.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-shell-script&#34; data-lang=&#34;shell-script&#34;&gt;#!/usr/bin/env sh

pdftotext &amp;quot;$1&amp;quot; - |\
	grep -ioP &amp;quot;\b(10.\d{4,9}/[-._;()/:A-Z0-9]+)\b&amp;quot; |\
	head -n 1
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>siunitx &#39;S&#39; table column &#39;table-format&#39; option</title>
      <link>http://johngodlee.xyz/posts/2021-08-01-sitable/</link>
      <pubDate>Sun, 01 Aug 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-08-01-sitable/</guid>
      <description>&lt;p&gt;I can&amp;rsquo;t believe it&amp;rsquo;s taken me this long to figure out how to use the &lt;code&gt;table-format&lt;/code&gt; option of the &lt;code&gt;S&lt;/code&gt; column type from the &lt;code&gt;siunitx&lt;/code&gt; package in a LaTeX table!&lt;/p&gt;
&lt;p&gt;A basic table in LaTeX, showing part of the &lt;code&gt;mtcars&lt;/code&gt; dataset in R:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;table&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;[h]
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\centering&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;lrrrrr&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\hline&lt;/span&gt;
 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;mpg&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;cyl&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;disp&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;drat&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;qsec&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\hline&lt;/span&gt;
Mazda RX4 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 160 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.9 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 16.46 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
Mazda RX4 Wag &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 160 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.9 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 17.02 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
Datsun 71 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 22.8 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 4 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 108 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.85 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.61 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
Hornet 4 Drive &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21.4 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 258 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.08 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 19.44 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
Hornet Sportabout &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.7 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 8 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 360 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.15 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 17.02 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
Valiant &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.1 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 225 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 2.76 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 20.22 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
   &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\hline&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;table&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/sitable/basic.png&#34;&gt;&lt;img
          alt=&#34;A basic table&#34;
          title=&#34;A basic table&#34;src=&#34;http://johngodlee.xyz/img/sitable/basic.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;It&amp;rsquo;s nice to align numeric columns by decimal point, which can be achieved using the &lt;code&gt;S&lt;/code&gt; column type:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;lSSSSS&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But now the columns are all off centre:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/sitable/s_bad.png&#34;&gt;&lt;img
          alt=&#34;Table with misaligned &amp;#39;S&amp;#39; columns&#34;
          title=&#34;Table with misaligned &amp;#39;S&amp;#39; columns&#34;src=&#34;http://johngodlee.xyz/img/sitable/s_bad.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;It turns out, that the &lt;code&gt;table-format&lt;/code&gt; option can be used to tell &lt;code&gt;siunitx&lt;/code&gt; how many digits to expect both before and after the decimal point:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;l
	S[table-format=2.1]
	S[table-format=1.0]
	S[table-format=3.0]
	S[table-format=1.2]
	S[table-format=2.2]&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/sitable/s_good.png&#34;&gt;&lt;img
          alt=&#34;Table with properly aligned &amp;#39;S&amp;#39; columns&#34;
          title=&#34;Table with properly aligned &amp;#39;S&amp;#39; columns&#34;src=&#34;http://johngodlee.xyz/img/sitable/s_good.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;I had always assumed that &lt;code&gt;table-format&lt;/code&gt; referred to a version number, &lt;code&gt;v3.2&lt;/code&gt; for example, and not knowing what the differences were I had avoided using the option altogether.&lt;/p&gt;
&lt;p&gt;As an addendum, while I was figuring this out I also did some experiments in exporting nice looking LaTeX tables directly from R using the &lt;code&gt;xtable&lt;/code&gt; package. Here is a basic &lt;code&gt;xtable&lt;/code&gt; export snippet, the resulting table, and the table rendered by LaTeX:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Packages&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;xtable&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Data&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;data&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;mtcars&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;head&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;mtcars&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Basic xtable, no formatting&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;xtab_bad&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;xtable&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Write basic xtable to file&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;fileConn&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;xtab_bad.tex&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;writeLines&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;print&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;xtab_bad&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;fileConn&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;close&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;fileConn&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;% latex table generated in R 4.1.0 by xtable 1.8-4 package
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;% Mon Aug  2 08:50:05 2021
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;table&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;[ht]
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\centering&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;rrrrrr&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\hline&lt;/span&gt;
 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; mpg &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; cyl &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; disp &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; drat &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; qsec &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\hline&lt;/span&gt;
Mazda RX4 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 160.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.90 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 16.46 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  Mazda RX4 Wag &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 160.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.90 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 17.02 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  Datsun 710 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 22.80 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 4.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 108.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.85 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.61 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  Hornet 4 Drive &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21.40 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 258.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.08 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 19.44 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  Hornet Sportabout &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.70 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 8.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 360.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.15 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 17.02 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  Valiant &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.10 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 225.00 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 2.76 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 20.22 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
   &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\hline&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;table&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/sitable/xtab_bad.png&#34;&gt;&lt;img
          alt=&#34;standard xtable table output&#34;
          title=&#34;standard xtable table output&#34;src=&#34;http://johngodlee.xyz/img/sitable/xtab_bad.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;By default, &lt;code&gt;xtable&lt;/code&gt; renders all columns as right-aligned, with two decimal places after columns identified as numeric, with no caption or label. Below is an improved table, created by adding some customisations to &lt;code&gt;xtable&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;xtab_good&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;xtable&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;table_a&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;align&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;l&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;S[table-format=2.1]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;S[table-format=1.0]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;S[table-format=3.0]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;S[table-format=1.2]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;S[table-format=2.2]&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;display&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;s&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;f&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;d&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;d&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;f&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;f&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;digits&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;  &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;   &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;   &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;   &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;   &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;   &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;caption&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Test caption, this is the full caption.&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Testing short&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;colSanit&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;){&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; 
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;rowSanit&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;){&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;{\\emph{&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;}}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; 
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Write better xtable to file&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;fileConn&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;xtab_good.tex&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;writeLines&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;print&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;xtab_good&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;include.rownames&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TRUE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;caption.placement&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;top&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;table.placement&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;booktabs&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TRUE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;sanitize.colnames.function&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;colSanit&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;sanitize.rownames.function&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;rowSanit&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;sanitize.text.function&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}),&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;fileConn&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;close&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;fileConn&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;% latex table generated in R 4.1.0 by xtable 1.8-4 package
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;% Mon Aug  2 08:53:54 2021
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;table&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\centering&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\caption&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;[Test caption, this is the full caption.]&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Testing short&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; 
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\label&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;table&lt;span style=&#34;color:#204a87&#34;&gt;_&lt;/span&gt;a&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}{&lt;/span&gt;lS[table-format=2.1]S[table-format=1.0]S[table-format=3.0]S[table-format=1.2]S[table-format=2.2]&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\toprule&lt;/span&gt;
 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;mpg&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;cyl&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;disp&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;drat&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;qsec&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\midrule&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\emph&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Mazda RX4&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21.0 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 160 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.90 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 16.46 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\emph&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Mazda RX4 Wag&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21.0 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 160 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.90 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 17.02 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\emph&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Datsun 710&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 22.8 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 4 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 108 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.85 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.61 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\emph&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Hornet 4 Drive&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 21.4 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 258 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.08 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 19.44 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\emph&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Hornet Sportabout&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.7 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 8 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 360 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 3.15 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 17.02 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
  &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\emph&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Valiant&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 18.1 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 6 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 225 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 2.76 &lt;span style=&#34;color:#204a87&#34;&gt;&amp;amp;&lt;/span&gt; 20.22 &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\\&lt;/span&gt; 
   &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\bottomrule&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;tabular&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;table&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/sitable/xtab_good.png&#34;&gt;&lt;img
          alt=&#34;A better xtable&#34;
          title=&#34;A better xtable&#34;src=&#34;http://johngodlee.xyz/img/sitable/xtab_good.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;The changes made:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Adds a label - &lt;code&gt;label =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Aligns each column differently with &lt;code&gt;S&lt;/code&gt; columns - &lt;code&gt;align =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Enforces column content type - &lt;code&gt;display =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Rounds digits in numeric columns - &lt;code&gt;digits =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Adds both a short caption for the list of tables and a long caption for in the text - &lt;code&gt;caption =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Defines functions to sanitize both the column names and the row names - &lt;code&gt;colSanit()&lt;/code&gt;, &lt;code&gt;rowSanit()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Includes the rownames - &lt;code&gt;include.rownames =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Puts the caption above the table, which should be standard behaviour in my opinion - &lt;code&gt;caption.placement =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Removes any table position forcing, better to do this in LaTeX - &lt;code&gt;table.placement =&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Uses &lt;code&gt;booktabs&lt;/code&gt; to add &lt;code&gt;toprule&lt;/code&gt;, &lt;code&gt;midrule&lt;/code&gt;, &lt;code&gt;bottomrule&lt;/code&gt; - &lt;code&gt;booktabs =&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Diagrams to explain niche complementarity</title>
      <link>http://johngodlee.xyz/posts/2021-07-31-niche/</link>
      <pubDate>Sat, 31 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-07-31-niche/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve just finished writing the background chapter for my PhD thesis. I&amp;rsquo;ve been writing about how competing species co-exist by occupying different niche space. To visualise nice complementarity, I made these schematic diagrams, which I&amp;rsquo;ve included below along with the length caption I included in the chapter.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/niche/niche_all.png&#34;&gt;&lt;img
          alt=&#34;Schematic diagrams visualising niche complementarity&#34;
          title=&#34;Schematic diagrams visualising niche complementarity&#34;src=&#34;http://johngodlee.xyz/img/niche/niche_all.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Schematic diagrams demonstrating niche occupation and secondary controls on the mechanism of niche complementarity. Each density plot shows a number of species, each represented by the species functional contribution (productivity) under different environmental conditions (niche space) within the larger environmental niche volume (dashed line). a) shows how the degree of overlap in functional niche of two species affects the total utilisation of the environmental niche volume (area under all species curves). When species are functionally distinct (left), more of the environmental niche volume is utilised. Removal of a species in this case would result in a large reduction in ecosystem productivity, while on the right, where functional redundancy is high, removal of a single species would have negligible effects. b) shows the effect of adding a functionally distinct species to an ecosystem. c) shows the effect of niche breadth on niche volume utilisation. On the left, three generalist species overlap in their functional niche. While each species has relatively incomplete utilisation of the environmental niche volume, this is offset as each species may occupy a wide range of environmental conditions. If the red species was removed, there would be only a marginal reduction in ecosystem productivity. On the right, three specialist species have a narrower niche breadth but a more complete utilisation of the environmental niche under ideal conditions. If a species was removed from this ecosystem, there would be a much greater reduction in ecosystem productivity.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BibLaTeX reference formatting</title>
      <link>http://johngodlee.xyz/posts/2021-07-15-biblatex/</link>
      <pubDate>Thu, 15 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-07-15-biblatex/</guid>
      <description>&lt;p&gt;I was preparing references for a paper I submitted to a journal. The journal had some pretty specific reference formatting criteria, and for whatever reason submitting a .bib file wasn&amp;rsquo;t enough for them. I have been using &lt;code&gt;biblatex&lt;/code&gt; for quite some time, but have always puzzled over how to customise the citations and reference list. Formatted references are very ambiguous, with innumerable different ways to display the same information. As such, customising the output of BibLaTeX is also quite complex, as it has to deal with the many edge cases that occur in author names, and the many different types of reference.&lt;/p&gt;
&lt;p&gt;After some trial and error I configured BibLaTeX so the references and citations looked sensible. I thought I would go through the customisations I made and explain what effect they have.&lt;/p&gt;
&lt;p&gt;First, here is my basic .tex file, which includes some necessary preamble material and then prints some references:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\documentclass&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;article&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\usepackage&lt;/span&gt;[natbib,
	backend=biber
	]&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;biblatex&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\addbibresource&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;ref.bib&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\begin&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;document&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

Ref. 1: &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\citep&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Jost2007&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

Ref. 2: &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\citep&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Fick2017&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

Ref. 3: &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\citep&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Dinerstein2017&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

Ref. 4: &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\citep&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Adole2018a&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

Ref. 5: &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\citep&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Adole2018b&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

Ref. 6: &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\citep&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;VIPPHEN&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

Ref. 7: &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\citep&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Fake2021&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\printbibliography&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{}&lt;/span&gt;

&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\end&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;document&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I&amp;rsquo;m using &lt;code&gt;natbib&lt;/code&gt; syntax to write the citations, and &lt;code&gt;biber&lt;/code&gt; as a bibliography parsing engine.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ref.bib&lt;/code&gt; looks like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&amp;#34; One author article
@article&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Jost2007,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Jost, L.&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Partitioning diversity into independent alpha and beta components&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  year = 2007,
  journal = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Ecology&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  volume = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;88&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  number = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;10&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  pages = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;2427--2439&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  DOI = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;10.1890/06-1736.1&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&amp;#34; Two author article
@article&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Fick2017,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Fick, S. E. and Hijmans, R. J.&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;WorldClim 2: &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;New&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; 1‐km spatial resolution climate surfaces for global land areas&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  year = 2017,
  journal = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;International Journal of Climatology&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  volume = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;37&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  number = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;12&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  pages = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4302--4315&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  DOI = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;10.1002/joc.5086&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&amp;#34; Two articles with same authors:
&amp;#34; The first
@article&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Adole2018a,
  doi = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;10.1111/gcb.14310&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  year = 2018,
  publisher = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Wiley&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  volume = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;24&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  number = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;9&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  pages = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;4054--4068&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Adole, T. and Dash, J. and Atkinson, P. M.&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Large-scale prerain vegetation green-up across Africa&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  journal = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Global Change Biology&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&amp;#34; The second
@article&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Adole2018b,
  doi = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;10.1016/j.apgeog.2017.12.006&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  year = 2018,
  publisher = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Elsevier &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;BV&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt;,
  volume = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;90&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  pages = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;187--199&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Adole, T. and Dash, J. and Atkinson, P. M.&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Characterising the land surface phenology of Africa using 500~m &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;MODIS&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;EVI&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt;,
  journal = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Applied Geography&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&amp;#34; Long author list
@article&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Dinerstein2017,
  doi = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;10.1093/biosci/bix014&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  year = 2017,
  publisher = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Oxford University Press (&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;OUP&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;)&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  volume = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;67&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  number = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;6&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  pages = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;534--545&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Dinerstein, E. and Olson, D. and Joshi, A. and Vynne, C. and Burgess, N. D. and Wikramanayake, E. and Hahn, N. and Palminteri, S. and Hedao, P. and Noss, R. and Hansen, M. and Locke, H. and Ellis, E. C. and Jones, B. and Barber, C. V. and Hayes, R. and Kormos, C. and Martin, V. and Crist, E. and Sechrest, W. and Price, L. and Baillie, J. E. M. and Weeden, D. and Suckling, K. and Davis, C. and Sizer, N. and Moore, R. and Thau, D. and Birch, T. and Potapov, P. and Turubanova, S. and Tyukavina, A. and de Souza, N. and Pintea, L. and Brito, J. C. and Llewellyn, O. A. and Miller, A. G. and Patzelt, A. and Ghazanfar, S. A. and Timberlake, J. and Kl&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;o&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;ser, H. and Shennan-Farp&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;o&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;n, Y. and Kindt, R. and Lilles&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\o&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;, J. B. and van Breugel, P. and Graudal, L. and Voge, M. and Al-Shammari, K. F. and Saleem, M.&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;An ecoregion-based approach to protecting half the terrestrial realm&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  journal = &lt;span style=&#34;color:#204a87&#34;&gt;{{&lt;/span&gt;BioScience&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&amp;#34; Book
@book&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Legendre1998,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Pierre Legendre, and Louis Legendre&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Numerical Ecology, 2nd edition&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  year = 1998,
  publisher = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Elsevier&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  address = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Amsterdam, Netherlands&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&amp;#34; Dataset
@dataset&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;VIPPHEN,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Didan, L. and Barreto, A.&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{{&lt;/span&gt;NASA MEaSUREs Vegetation Index and Phenology (VIP) Phenology EVI2 Yearly Global 0.05Deg CMG [Data set]&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt;,
  year = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;2016&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  doi = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;10.5067/MEaSUREs/VIP/VIPPHEN&lt;span style=&#34;color:#204a87&#34;&gt;_&lt;/span&gt;EVI2.004&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  publisher = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;NASA EOSDIS Land Processes DAAC&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  urldate = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;2020-08-05&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;

&amp;#34; Hypothetical reference with a lot of non-standard names
@article&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Fake2021,
  year = 2021,
  volume = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;656&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  number = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;2&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  pages = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;1--5&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  author = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;Godlee, E. L. G. and de Olson, D. and van den Joshi, A. and der Vynne, C. and Den Burgess, N. D. and MacNail, E. and Shennan-Farp&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;o&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;n, Y. and Mute, S.-P.&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  title = &lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;This is a fake reference&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;,
  journal = &lt;span style=&#34;color:#204a87&#34;&gt;{{&lt;/span&gt;Nature&lt;span style=&#34;color:#204a87&#34;&gt;}}&lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;All these references were chosen to highlight some of the diversity of bibliographic entries I have experienced.&lt;/p&gt;
&lt;p&gt;The basic document produces a file like this:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/biblatex/1_basic.png&#34;&gt;&lt;img
          alt=&#34;Basic LaTeX document&#34;
          title=&#34;Basic LaTeX document&#34;src=&#34;http://johngodlee.xyz/img/biblatex/1_basic.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;The first thing to change is the basic reference style. Currently the references are numbered, but I prefer the author-year style, so I alter the &lt;code&gt;biblatex&lt;/code&gt; options to look like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\usepackage&lt;/span&gt;[natbib,
	backend=biber,
	style=authoryear
	]&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;biblatex&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;which produces this document:&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/biblatex/2_authoryear.png&#34;&gt;&lt;img
          alt=&#34;Author-year style references&#34;
          title=&#34;Author-year style references&#34;src=&#34;http://johngodlee.xyz/img/biblatex/2_authoryear.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;There are a few issues that still need to be solved, so I&amp;rsquo;ll go through them one by one.&lt;/p&gt;
&lt;p&gt;Firstly, the number of names reported in both the citations and the reference list is not how I would like it. For example, Adole et al. (2018a) has three authors in the citation, but I would prefer one author then et al. if there are more than two authors. Also, Dinerstein et al. (2017) only has one author then et al. in the reference list, but I want to list up to 10 authors then et al., so I alter the &lt;code&gt;biblatex&lt;/code&gt; options once more:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\usepackage&lt;/span&gt;[natbib,
	backend=biber,
	style=authoryear,
	maxcitenames=2, 
	mincitenames=1, 
	minbibnames=10, 
	maxbibnames=10
	]&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;biblatex&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This allows up to two names in the citations before et al., and if et al. is used, only the first author name is given. Also a maximum of 10 names is displayed in the reference list, but if there are fewer than 10 then all names are displayed.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/biblatex/3_names.png&#34;&gt;&lt;img
          alt=&#34;Changing the number of authors&#34;
          title=&#34;Changing the number of authors&#34;src=&#34;http://johngodlee.xyz/img/biblatex/3_names.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Next, BibLaTeX has decided that if two papers have the same author list, that the second paper can omit the author list in place of a dash. I don&amp;rsquo;t like this, so I change the options again:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\usepackage&lt;/span&gt;[natbib,
	backend=biber,
	style=authoryear,
	maxcitenames=2, 
	mincitenames=1, 
	minbibnames=10, 
	maxbibnames=10,
	uniquename=false, 
	uniquelist=false,
	dashed=false
	]&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;biblatex&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This prints the full author list for every repeat.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/biblatex/4_unique.png&#34;&gt;&lt;img
          alt=&#34;Always printing the full author list, even when repeated&#34;
          title=&#34;Always printing the full author list, even when repeated&#34;src=&#34;http://johngodlee.xyz/img/biblatex/4_unique.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Next, the Legendre and Legendre (1998) reference has provided the full first names for each author in the .bib file. This is valid BibTeX syntax, but BibLaTeX then defaults to printing those first names in the reference rather than the initials, which looks messy when using a mix of initials and full names. So I configure BibLaTeX to always use initials.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\usepackage&lt;/span&gt;[natbib,
	backend=biber,
	style=authoryear,
	maxcitenames=2, 
	mincitenames=1, 
	minbibnames=10, 
	maxbibnames=10,
	uniquename=false, 
	uniquelist=false,
	dashed=false,
	giveninits=true
	]&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;biblatex&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/biblatex/5_inits.png&#34;&gt;&lt;img
          alt=&#34;Always use initials, even when full names provided&#34;
          title=&#34;Always use initials, even when full names provided&#34;src=&#34;http://johngodlee.xyz/img/biblatex/5_inits.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Finally, and this might be a bit nit-picky, I would prefer to use an ampersand rather than &amp;ldquo;and&amp;rdquo; when listing the final author name, both in the citations and the reference list, so I add this line to the document preamble:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\renewcommand*\finalnamedelim&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;\addspace\&amp;amp;\space&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/biblatex/6_ampers.png&#34;&gt;&lt;img
          alt=&#34;Use an ampersand for the final author&#34;
          title=&#34;Use an ampersand for the final author&#34;src=&#34;http://johngodlee.xyz/img/biblatex/6_ampers.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


</description>
    </item>
    
    <item>
      <title>tmux popup windows for quickly launching scripts</title>
      <link>http://johngodlee.xyz/posts/2021-07-10-tmux_popup/</link>
      <pubDate>Sat, 10 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-07-10-tmux_popup/</guid>
      <description>&lt;p&gt;I was inspired by &lt;a href=&#34;https://www.youtube.com/watch?v=41JxYe70Xwo&#34; target=&#34;_blank&#34;&gt;this video&lt;/a&gt;
, which uses the pop-up window feature in &lt;a href=&#34;https://github.com/tmux/tmux&#34; target=&#34;_blank&#34;&gt;tmux&lt;/a&gt;
 v3.2+ to quickly launch scripts that don&amp;rsquo;t deserve their own pane. I wrote a similar script to handle the pop-ups, which I keep in my &lt;code&gt;$PATH&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;#!/usr/bin/env sh
&lt;/span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# List scripts &lt;/span&gt;
&lt;span style=&#34;color:#204a87&#34;&gt;read&lt;/span&gt; -d &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; APPS &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;lt;&amp;lt; EOF
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;passwords	~/bin/tmux_popup/./fpass_popup
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;mount drives	~/bin/netmount
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;search papers	~/bin/papers
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;stopwatch	~/bin/stopwatch
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;internet speed test	~/bin/speed
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;emojis	~/bin/tmux_popup/./emoji_popup
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;calculator	~/bin/tmux_popup/./calc_popup
&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;EOF&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;SELECTED&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;$(&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$APPS&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; fzf -d &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;	&amp;#34;&lt;/span&gt; --with-nth &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;|&lt;/span&gt; sed &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;s/.*\t//g&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#204a87&#34;&gt;eval&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;SELECTED&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The scripts are listed by their name, which appears in the fzf pop-up, and their path, separated by a tab.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/tmux_popup/popup.png&#34;&gt;&lt;img
          alt=&#34;Example of tmux popup window&#34;
          title=&#34;Example of tmux popup window&#34;src=&#34;http://johngodlee.xyz/img/tmux_popup/popup.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;The scripts currently available in the popup:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;passwords - Search &lt;code&gt;pass&lt;/code&gt; password store using &lt;code&gt;fzf&lt;/code&gt; and copy the selected password to the clipboard&lt;/li&gt;
&lt;li&gt;mount drives - Search mountable drives using &lt;code&gt;fzf&lt;/code&gt; and mount the selected drive&lt;/li&gt;
&lt;li&gt;search papers - Search through academic article pdfs using &lt;code&gt;fzf&lt;/code&gt; and &lt;code&gt;pdftotext&lt;/code&gt;, then open the selected pdf&lt;/li&gt;
&lt;li&gt;stopwatch - Run a stopwatch&lt;/li&gt;
&lt;li&gt;internet speed test - Run an upload/download speed test&lt;/li&gt;
&lt;li&gt;emojis - Search through emojis using &lt;code&gt;fzf&lt;/code&gt; and copy the selected emoji to the clipboard&lt;/li&gt;
&lt;li&gt;calculator - open an &lt;code&gt;R&lt;/code&gt; console with &lt;code&gt;--no-save&lt;/code&gt; and &lt;code&gt;--quiet&lt;/code&gt; flags for performing simple calculations&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The script is launched by hitting &lt;code&gt;&amp;lt;prefix&amp;gt;-Tab&lt;/code&gt; in tmux, using this line in my &lt;code&gt;.tmux.conf&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;bind-key Tab capture-pane \; save-buffer /tmp/tmux-buffer \; delete-buffer \; display-popup -w 50% -h 50% -E &amp;quot;/path/to/fzf-speed&amp;quot;
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Scraping museum catalogues</title>
      <link>http://johngodlee.xyz/posts/2021-07-05-catalogs/</link>
      <pubDate>Mon, 05 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-07-05-catalogs/</guid>
      <description>&lt;p&gt;My partner is visiting some museums and art galleries in the eastern United States in the autumn, to look at Maya, Aztec and Mixtec artefacts that relate to slavery, captivity and forced labour. To find artefacts, she was looking through the online catalogues of each institution, and at the same time wanted to record metadata about the objects to refer back to later. Unfortunately, harvesting the metadata was taking a long time due to all the copying and pasting and manually saving images. I tried to help by writing a few scripts to scrape through the object records online and format the metadata in an organised format.&lt;/p&gt;
&lt;p&gt;Some of the institutions provide decent APIs to get artefact data, but others only provide web pages, so I had to use a mixture of different methods to scrape the information.&lt;/p&gt;
&lt;p&gt;The institutions I scraped were:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dumbarton Oaks&lt;/li&gt;
&lt;li&gt;Museum of Fine Arts Boston&lt;/li&gt;
&lt;li&gt;Nasher Museum of Art at Duke University&lt;/li&gt;
&lt;li&gt;The Metropolitan Museum of Art New York&lt;/li&gt;
&lt;li&gt;Yale Peabody Museum of Natural History&lt;/li&gt;
&lt;li&gt;Penn Museum&lt;/li&gt;
&lt;li&gt;Princeton University Art Museum&lt;/li&gt;
&lt;li&gt;Smithsonian National Museum of Natural History&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For each of the institutions I was given a txt file of links. I used R to scrape the information as that&amp;rsquo;s what I know best. For institutions who don&amp;rsquo;t have APIs, i.e. Dumbarton Oaks, Museum of Fine Arts Boston, Nasher, Yale Peabody, and Penn Museum, I used &lt;code&gt;{rvest}&lt;/code&gt; to parse the html files. For example, for Nasher:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Packages&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;rvest&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dplyr&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# List record URLS&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;urls&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;readLines&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;links.txt&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Download pages&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;urls&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;download.file&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;destfile&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file.path&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;html&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
      &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/.*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;https://emuseum.nasher.duke.edu/objects/&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))))&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;})&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# List html files&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;html_files&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;list.files&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;html&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;full.names&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TRUE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# For each file&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;out_list&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;html_files&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;read_html&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Get object title&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;obj_title&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;div.titleField&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;h1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_text&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Get object metadata&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;obj_labels&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;span.detailFieldLabel&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_text&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;:.*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;.)&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;obj_values&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;span.detailFieldValue&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_text&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Create dataframe&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;as.data.frame&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;t&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;data.frame&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;obj_values&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)))&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;names&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;obj_labels&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Extract image IDs&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;main_img_id&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;div.emuseum-img-wrap&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;img&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_attr&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/internal/media/dispatcher/&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;.)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/.*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;.)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;unique&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;sec_img_id&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;div.secondarymedia-item&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_nodes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;html_attr&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;data-media-id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;unique&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; 

  &lt;span style=&#34;color:#000&#34;&gt;img_id&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;unique&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;main_img_id&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;sec_img_id&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Construct image URLs&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;img_url&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;https://emuseum.nasher.duke.edu/internal/media/dispatcher/&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;img_id&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/resize%3Aformat%3Dfull&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Create filenames&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;img_filenames&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;`Object number`&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;_&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;img_id&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;.jpg&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Download images&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;if &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_url[&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;is.na&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_url&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;download.file&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_url&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;destfile&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file.path&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;img&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;img_filenames&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; 
      &lt;span style=&#34;color:#000&#34;&gt;method&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;libcurl&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;if &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_url[&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;is.na&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_url&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;download.file&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_url&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;destfile&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file.path&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;img&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;img_filenames&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;})&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Write metadata to csv&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;do.call&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;bind_rows&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;out_list&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;write.csv&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;all.csv&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;row.names&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;FALSE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I think Princeton probably had the nicest and simplest API to use, while the Smithsonian had the most difficult API. However, the complexity of the Smithsonian API is probably because they have lots of institutions all running the same API, and a very diverse range of records.&lt;/p&gt;
&lt;p&gt;To query the API I used &lt;code&gt;{httr}&lt;/code&gt;, and to parse the JSON returned by the APIs I used &lt;code&gt;{jsonlite}&lt;/code&gt;. Using the Princeton API as an example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;httr&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;jsonlite&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dplyr&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;base&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;https://data.artmuseum.princeton.edu/objects/&amp;#34;&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Import links&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;links&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;readLines&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;links.txt&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Get IDs&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;ids&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;.*/&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;links&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# For each ID, get record&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;out_list&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ids&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;message&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Get record&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;resp&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;GET&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;base&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Parse JSON&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;parsed&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Save JSON &lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;write&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file.path&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;json&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;.json&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)))&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;if &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;is.null&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt; 
      &lt;span style=&#34;color:#000&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;NA&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#000&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; 
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;

  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Extract description&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;desc_df&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;data.frame&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;displayperiod&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;displayperiod&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;displayculture&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;displayculture&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;classification&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;classification&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;daterange&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;daterange&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;description&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;paste&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;texts&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;textentryhtml&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;collapse&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;; &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;accessionyear&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;accessionyear&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;title&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;titles[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;title&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;catalograisonne&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;catalograisonne&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;objectnumber&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;objectnumber&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;objectid&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;objectid&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;department&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;department&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;country&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;country&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;locale&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;locale&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;region&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;region&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;subcontinent&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;subcontinent&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;locus&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;locus&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;county&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;county&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;excavation&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;excavation&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;state&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;state&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;latitude&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;location&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;lat&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;longitude&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;location&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;lon&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;river&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;location&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;river&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;continent&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;geography[[1]]&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;continent&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;medium&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;medium&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;dimensions&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ifnull&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;paste&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dimensionelements&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#000&#34;&gt;paste&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dimension&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;element&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;units&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;sep&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;collapse&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;; &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;img_list&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;resp_parsed&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;media&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;uri&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;})&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;img_filenames&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;_&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_list&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;[&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;  &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;.jpg&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;img_urls&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;paste0&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_list&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;[&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;/full/full/0/default.jpg&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
  
  &lt;span style=&#34;color:#000&#34;&gt;if &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_list[&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;is.na&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_list&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;try&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;download.file&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_urls&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;destfile&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file.path&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;img&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;img_filenames&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; 
      &lt;span style=&#34;color:#000&#34;&gt;method&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;libcurl&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;if &lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_list[&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;is.na&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_list&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;try&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;download.file&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;img_urls&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;destfile&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;file.path&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;img&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;img_filenames&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)))&lt;/span&gt;
  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;

  &lt;span style=&#34;color:#000&#34;&gt;return&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;desc_df&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;})&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Write metadata to csv&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;do.call&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;bind_rows&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;out_list&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;write.csv&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;all.csv&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;row.names&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;FALSE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Network graph of R package usage</title>
      <link>http://johngodlee.xyz/posts/2021-06-25-r_packages/</link>
      <pubDate>Fri, 25 Jun 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-06-25-r_packages/</guid>
      <description>&lt;p&gt;I wanted to know which R packages I use the most in my work, just as a little toy exercise in data wrangling and network visualisation.&lt;/p&gt;
&lt;p&gt;I searched through all the R scripts on my laptop using &lt;a href=&#34;https://github.com/BurntSushi/ripgrep&#34; target=&#34;_blank&#34;&gt;ripgrep&lt;/a&gt;
, to find which packages I use:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;rg &amp;quot;^library(.*)$&amp;quot; -g *.R -g &#39;!Library/*&#39; &amp;gt; packages.txt
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The &lt;code&gt;-g&lt;/code&gt; glob excludes any files in &lt;code&gt;~/Library&lt;/code&gt;, because these are email attachments which sometimes aren&amp;rsquo;t mine, and when they are mine they&amp;rsquo;re often duplicates of a script already stored on my computer somewhere else.&lt;/p&gt;
&lt;p&gt;Then in R, I can import the results and start analysing them:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Packages&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dplyr&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ggplot2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;GGally&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;library&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;network&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Import data&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;dat_raw&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;readLines&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;packages.txt&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first thing is to separate the filepaths from the package names:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Extract file paths from lines&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;paths&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;:.*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;dat_raw&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Check all paths are valid&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;stopifnot&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;all&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;grepl&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;.R$&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;paths&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)))&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Extract packages from lines&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;gsub&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;.*library\\s?\\(\&amp;#34;?([A-z0-9.]+)\&amp;#34;?\\).*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;\\1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;dat_raw&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Check number of paths = number of packages&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;stopifnot&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;paths&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;length&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Create dataframe&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;unique&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;data.frame&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;paths&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;unique()&lt;/code&gt; removes some packages which were mistakenly called multiple times in the same script.&lt;/p&gt;
&lt;p&gt;To find my most used packages, I created a bar graph:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#000&#34;&gt;pack_freq_summ&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;group_by&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;tally&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;mutate&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;factor&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;levels&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;rev&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;[order&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;n&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;arrange&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;desc&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;n&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;slice_head&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;n&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;10&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;ggplot&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;geom_bar&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;data&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pack_freq_summ&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;aes&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;n&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;colour&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;black&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;fill&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;darkgrey&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;stat&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;identity&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;theme_bw&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;labs&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Package&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;y&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;Frequency&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/r_packages/package_freq_bar.png&#34;&gt;&lt;img
          alt=&#34;Bar plot of 10 most used R packages&#34;
          title=&#34;Bar plot of 10 most used R packages&#34;src=&#34;http://johngodlee.xyz/img/r_packages/package_freq_bar.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Next, I wanted to create a network graph. I wanted to visualise which packages were used the most, which packages were used in conjunction with each other, and which packages are most commonly used in conjunction.&lt;/p&gt;
&lt;p&gt;First, split the dataframe by R script, and remove scripts which only called one package.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Split by file&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;dat_split&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;split&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;paths&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Remove files with only one package&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;dat_split_fil&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;dat_split&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;[unlist&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dat_split&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;nrow&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then for each R script, use &lt;code&gt;expand.grid()&lt;/code&gt; to create pairwise combinations of packages and count their frequency, then use some &lt;code&gt;{dplyr}&lt;/code&gt; to clean up the results, so I&amp;rsquo;m left with a dataframe with three columns, &lt;code&gt;from&lt;/code&gt;, &lt;code&gt;to&lt;/code&gt;, and &lt;code&gt;weight&lt;/code&gt;, where &lt;code&gt;from&lt;/code&gt; and &lt;code&gt;to&lt;/code&gt; are pairs of packages, and &lt;code&gt;weight&lt;/code&gt; counts the number of times they are called in the same script:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Create matrix of packages by co-occurrence in files&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;edge_mat&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;do.call&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;rbind&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;lapply&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;dat_split_fil&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;function&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;expand.grid&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;x&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
    &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;filter&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Var1&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Var2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;group_by&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Var1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Var2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;tally&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;rename&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Var1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Var2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;weight&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;n&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;mutate&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;as.character&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;from&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; 
    &lt;span style=&#34;color:#000&#34;&gt;to&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;as.character&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;to&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;group_by&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;grp&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;paste&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;pmax&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;from&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;to&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;pmin&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;from&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;to&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;sep&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;_&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;slice&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;ungroup&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;select&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;grp&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then, I create a network object and add attributes so that the nodes are weighted by frequency, and the edges are weighted by co-occurrence frequency:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Create network object&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;net&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;as.network&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;edge_mat&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;directed&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;FALSE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Add vertex attribute, number of times package is used&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;vertex_weight&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;dat&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;group_by&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;tally&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;as.data.frame&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;()&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;net&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%v%&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;vweight&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;vertex_weight[&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;match&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;net&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%v%&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;vertex.names&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;vertex_weight&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;packages&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;n&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;]&lt;/span&gt;

&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Add edge attribute, colors by number of times packages used in conjunction&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;colfunc&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;colorRampPalette&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;c&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;lightgray&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;blue&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;))&lt;/span&gt;

&lt;span style=&#34;color:#000&#34;&gt;net&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%e%&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;edgecol&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;as.character&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;cut&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;
    &lt;span style=&#34;color:#000&#34;&gt;log&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;net&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;%e%&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;weight&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;),&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;breaks&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;labels&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;colfunc&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And finally, create a circular network graph, where nodes are sized according to frequency and edges are coloured according to co-occurrence frequency:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# Create plot&lt;/span&gt;
&lt;span style=&#34;color:#000&#34;&gt;ggnet2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;net&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;mode&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;circle&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; 
  &lt;span style=&#34;color:#000&#34;&gt;color&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;#ffc780&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;size&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;vweight&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;TRUE&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;label.size&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt;
  &lt;span style=&#34;color:#000&#34;&gt;edge.col&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;edgecol&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/r_packages/packages_net_plot.png&#34;&gt;&lt;img
          alt=&#34;Network graph of package co-occurrence&#34;
          title=&#34;Network graph of package co-occurrence&#34;src=&#34;http://johngodlee.xyz/img/r_packages/packages_net_plot.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;I&amp;rsquo;m not totally happy with the edge colouring, but it&amp;rsquo;s difficult because many packages only occur together once, while a few, e.g. &lt;code&gt;{dplyr}&lt;/code&gt; occur in almost every script, so there&amp;rsquo;s a very wide range of values.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Interview presentation for SECO post-doc position</title>
      <link>http://johngodlee.xyz/posts/2021-06-23-seco_pres/</link>
      <pubDate>Wed, 23 Jun 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-06-23-seco_pres/</guid>
      <description>&lt;p&gt;I applied for a post-doc position with the &lt;a href=&#34;&#34;&gt;SECO&lt;/a&gt;
 project recently. I got the job, so I thought I would post the presentation I gave as part of the interview. The idea for the presentation was to give a 12 minute run-down of &amp;ldquo;my previous work, how it links to the post-doc position, and my plans for the position&amp;rdquo;. I&amp;rsquo;ve pasted the slides below with an approximate script of what I said.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide1.png&#34;&gt;&lt;img
          alt=&#34;Slide 1&#34;
          title=&#34;Slide 1&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide1.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;I&amp;rsquo;ll tell you about my previous work and how it links to SECO, give you an idea of my general research interests, and tell you some of the ideas I have for this post-doc and what interests me about the science of the project.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide2.png&#34;&gt;&lt;img
          alt=&#34;Slide 2&#34;
          title=&#34;Slide 2&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide2.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Before I dive into my PhD research, I wanted to highlight some other projects I&amp;rsquo;ve been involved in which I think provided me with valuable experience that I can apply to this post-doc.&lt;/p&gt;
&lt;p&gt;For my undergraduate dissertation I studied tree seedlings in the Andes and climate induced range shifts. I used leaf functional traits and physiological stress responses to predict the elevational limits of different species.&lt;/p&gt;
&lt;p&gt;In Canada I worked as a field assistant, on a project studying the effects of climate warming on the functional traits of shrubs. We used pheno-cams to monitor phenology, to make predictions about changes in vegetation structure.&lt;/p&gt;
&lt;p&gt;I worked with Lucy Rowland from University of Exeter as a research assistant on a drought experiment in the Brazilian Amazon, where we looked at hydraulic traits and leaf gas exchange to investigate the effect of drought on tree mortality.&lt;/p&gt;
&lt;p&gt;In 2017 I managed the fieldwork for a fire experiment in the Republic of Congo, where I supervised a local field team for 5 weeks, doing mortality surveys and plot burning.&lt;/p&gt;
&lt;p&gt;Now I&amp;rsquo;m getting towards the end of my PhD, which I hope to hand in before the end of August 2021.&lt;/p&gt;
&lt;p&gt;Next I&amp;rsquo;ll cover the skills and insights from my PhD that I think will be useful for the post-doc.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide3.png&#34;&gt;&lt;img
          alt=&#34;Slide 3&#34;
          title=&#34;Slide 3&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide3.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;My PhD is on how tree species composition and diversity affects woody biomass and ecosystem structure in southern African savannas.&lt;/p&gt;
&lt;p&gt;My thesis uses a combination of original field data, plot census data from SEOSAW, and various remote sensing data.&lt;/p&gt;
&lt;p&gt;One of the key parts of the thesis was a large data synthesis model using 1200 woodland plots in a structural equation modelling framework to determine how environmental context affects the relationship between species diversity and biomass.&lt;/p&gt;
&lt;p&gt;Then I conducted two studies looking at specific ecological mechanisms that might drive diversity-productivity relationships in savannas. The first used plot data and MODIS data to investigate the effect of species composition on pre-rain green-up and senescence in Zambia. The second used terrestrial LiDAR data to investigate how spatial diversity metrics affect canopy structure and foliage density.&lt;/p&gt;
&lt;p&gt;Also, as part of the PhD I set up 15 permanent plots in Bicuar National Park in Angola with in-country colleagues. We wrote a paper together on the floristic diversity of the park in relation to other miombo formations.&lt;/p&gt;
&lt;p&gt;I think my PhD project reflects my interest in how community assembly drives biomass dynamics in different environmental contexts, and also reflects my interests in both macro-ecology style modelling and plot-based field studies.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide4.png&#34;&gt;&lt;img
          alt=&#34;Slide 4&#34;
          title=&#34;Slide 4&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide4.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Last year, I took a break from PhD to manage the SEOSAW database for 5 months.&lt;/p&gt;
&lt;p&gt;The original plan was to manage the establishment of new permanent plots in under-studied areas, but COVID meant we had to change plans and I took on more of a database manager role.&lt;/p&gt;
&lt;p&gt;I spent a lot of time formalising the cleaning process for the database, to make it more reproducible, including an overhaul of the species name checking system.&lt;/p&gt;
&lt;p&gt;I also incorporated new datasets from various SEOSAW partners and supported them in data processing and data collection.&lt;/p&gt;
&lt;p&gt;I wrote documentation and created digital data collection forms for colleagues, both as a capacity building tool and to ensure data quality, and I drafted a mortality recording system that is more suited to the dry tropics where trees resprout.&lt;/p&gt;
&lt;p&gt;I think this experience especially puts me in a really good position to critically analyse plot data we might get in SECO.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide5.png&#34;&gt;&lt;img
          alt=&#34;Slide 5&#34;
          title=&#34;Slide 5&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide5.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Now I&amp;rsquo;ll switch to talking about SECO itself.&lt;/p&gt;
&lt;p&gt;We know that variability in the dry tropical carbon sink is a major source of uncertainty in the global carbon cycle. There are various drivers of change pushing dry tropical vegetation in opposing directions. Importantly, it&amp;rsquo;s been suggested that atmospheric CO2 enrichment will increase woody biomass, particularly in savannas, by reversing the competitive balance between C4 grasses and C3 trees. But there are also expected to be concurrent changes in rainfall seasonality, temperature and fire regime.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s important to consider that there are many functionally distinct vegetation formations within the dry tropics, even in similar environmental contexts. Across each continent, dry tropical vegetation formations are more related to their moist forest neighbours than to dry tropical formations on other continents. Meaning these vegetation types are likely respond differently to drivers of vegetation change based on their adaptive potential.&lt;/p&gt;
&lt;p&gt;An interesting avenue for us to explore I think will be using growth and mortality data from the SECO plots, combined with functional trait data of species within the plots and their phylogenetic relationships, to identify the bioclimatic envelopes of these different vegetation types, and to use that demographic and functional information to predict which drivers of change are likely to have the greatest effect on biomass in different regions.&lt;/p&gt;
&lt;p&gt;Of particular interest to me is whether the functional diversity of the species pool will constrain the ability of different vegetation formations to succeed following environmental change. We might expect for instance that the comparatively species rich dry forests and savannas of the neotropics might contain enough functional redundancy so that when the climate changes they can maintain productivity, albeit with differences in species composition, while in the species poor savannas of southern Africa, climate change may severely reduce productivity as fewer species can fill the niche space.&lt;/p&gt;
&lt;p&gt;As an aside, the map on this slide was my attempt to re-create the map of the SECO working region which I found on the SECO website. I think just defining the working region of the dry tropics will prove to be an interesting challenge. Doing this exercise really highlighted to me that India and southeast Asia will be particularly controversial, due to their very different structure to the rest of the tropics. Maybe we can help to find unifying conditions for the dry tropics during SECO.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide6.png&#34;&gt;&lt;img
          alt=&#34;Slide 6&#34;
          title=&#34;Slide 6&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide6.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;We know that one of the key goals of SECO is to constrain important sources of variation in the carbon cycle of the dry tropics. In this next section I&amp;rsquo;ll talk about specific biological mechanisms that I think will be important in driving variation in carbon cycling, and how the SECO plot data can improve our understanding of those processes.&lt;/p&gt;
&lt;p&gt;This flow chart should be familiar to the panel, it&amp;rsquo;s the DALEC carbon cycle model, which I imagine will play some part in the modelling aspect of SECO. I thought the model would be a good way to structure my thinking on what biological mechanisms affect variation in the carbon cycle across the dry tropics. I&amp;rsquo;ve marked some key processes in the model which are likely to drive variability in the carbon cycle across the dry tropics, and I&amp;rsquo;ll discuss how our understanding of each could be improved through analysis of the SECO plot data.
 
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide7.png&#34;&gt;&lt;img
          alt=&#34;Slide 7&#34;
          title=&#34;Slide 7&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide7.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;

&lt;/p&gt;
&lt;p&gt;First: Mortality.&lt;/p&gt;
&lt;p&gt;Trees in the dry tropics have incredibly complex mortality dynamics. They resurrect, resprout, and lose parts of the plant to different extents depending on species, environmental pressures, and disturbances. We need mortality protocols that are tailored to the dry tropics and which consider these complex dynamics, otherwise we could misrepresent the mortality signal.&lt;/p&gt;
&lt;p&gt;Particularly I think we should investigate further how fire and drought affect resprouting behaviour and mortality, because both these environmental pressures are expected to vary a lot in the future.&lt;/p&gt;
&lt;p&gt;We should look at how this varies among vegetation types, among species across the conservative/acquisitive trait spectrum, and among different demographic groups so we can make predictions about how future vegetation composition will look.&lt;/p&gt;
&lt;p&gt;To understand how different vegetation types are expected to fare under climate change, we need to understand how close their constituent species are to their physiological limits. We can assess this using mortality and growth, or even using direct ecophysiological methods for a subset of plots.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide8.png&#34;&gt;&lt;img
          alt=&#34;Slide 8&#34;
          title=&#34;Slide 8&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide8.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Next: Root:shoot ratios&lt;/p&gt;
&lt;p&gt;Allocation to different carbon components varies according to environment and species life history strategy. Variation in carbon allocation has knock on effects for decomposition and carbon residence times as different carbon components turn over at different rates.&lt;/p&gt;
&lt;p&gt;Allocation to wood and roots is normally modelled in large carbon cycling models as a constant root:shoot ratio. But that ratio is often poorly parameterised, especially in the dry tropics, and doesn&amp;rsquo;t account for continental variation in adaptive traits and evolutionary history that means species allocate differently under similar environmental forcings.&lt;/p&gt;
&lt;p&gt;For example, Australian and African savanna tree species differ in fire avoidance strategy. Australian Eucalypts grow tall and thin, while African species more readily invest in root structures, meaning these two savanna types are likely to vary in how they allocate to above- and below-ground structures under a changing environment.&lt;/p&gt;
&lt;p&gt;We need to do more to identify environmental and biogeographic conditions that lead to variation in the root:shoot ratio across the dry tropics, because without understanding roots we might majorly misrepresent carbon storage.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide9.png&#34;&gt;&lt;img
          alt=&#34;Slide 9&#34;
          title=&#34;Slide 9&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide9.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Thirdly: leaf traits&lt;/p&gt;
&lt;p&gt;Leaf traits and leaf carbon allocation can tell us about productivity in a system, being the organ chiefly responsible for photosynthesis. In savannas it can also tell us about competitive relationships with grasses, and also links to decomposition and phenology in deciduous systems.&lt;/p&gt;
&lt;p&gt;In carbon cycling models leaf carbon allocation most often estimated using remote-sensing products like Copernicus Leaf Area Index, but the coexistence of grass and trees in savannas means the signal is often noisy, and this is complicated even more by seasonal variation in the relative grass:tree contribution.&lt;/p&gt;
&lt;p&gt;We could use terrestrial LiDAR coupled with leaf trait measurements that represent the leaf economic spectrum to precisely estimate leaf carbon at selected sites. Then set that in the context of environmental factors and other aspects of plant physiognomy to make predictions about the effects of climate change on leaf production in different functional groups of trees. Then we can pair these on-the-ground measurements with satellite data, and phylogenetics to scale up across whole biomes.&lt;/p&gt;
&lt;p&gt;Basically there are trade-offs in the leaf and root economic spectrum which determine allocation to different carbon components have knock on effects for mortality and decomposition with consequences for the entire carbon cycle.&lt;/p&gt;
&lt;p&gt;To summarise this presentation, I think my combination of skills, which I&amp;rsquo;ve developed in the dry tropics, and which all contribute to my in depth understanding of carbon dynamics and biogeography as it applies to this biome, set me up really well to make a decent contribution to the SECO project.&lt;/p&gt;
&lt;p&gt;I hope you can see that I have lots of ideas about this project, even though I&amp;rsquo;ve only had the time to cover a few of them. I think there are loads of avenues for us to produce research which not only answers the 4 key questions posed by SECO, but also answers some intermediate and more mechanistic questions which could shed light on how the dry tropics operate, both floristically and functionally.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/seco_pres/slide10.png&#34;&gt;&lt;img
          alt=&#34;Slide 10&#34;
          title=&#34;Slide 10&#34;src=&#34;http://johngodlee.xyz/img/seco_pres/slide10.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


</description>
    </item>
    
    <item>
      <title>ASCII/UTF8 terrestrial carbon cycle diagram</title>
      <link>http://johngodlee.xyz/posts/2021-06-17-carbon_ascii/</link>
      <pubDate>Thu, 17 Jun 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-06-17-carbon_ascii/</guid>
      <description>&lt;p&gt;I have been thinking about the carbon cycle. I decided to try and make a simple terrestrial carbon cycle diagram using only ASCII art. It&amp;rsquo;s completely useless, but was quite fun to make. There&amp;rsquo;s two versions, one which uses some UTF8 characters, and another which only uses ASCII characters.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;               ┌─────────────────────────┐
               │NPP = GPP - Ar           │
               │NEP = NPP - Hr           │
               │NBP = NEP - harvest, fire│
               └─────────────────────────┘
┌───┐ ┌───┐       ┌───┐         Harvest
│GPP│ │Ar │       │Hr │         +Fires
└─┬─┘ └─▲─┘       ▲─▲─▲         &#39; &#39;▲&#39;  &#39;
  │     │         │ │ │        &#39; &#39; │ &#39; &#39;
 _▼_____│_        │ │ │        ^^^^│^^^^
 \       /        │ │ │        \^  ^  ^/
  \ NPP────────┐ ┌┘ │ └┐        \^ ^ ^/
   \   /       │ │  │  │         \^^^/
    │ │        │ │  │  │          │^│
    │ │        │ │  │  │          │^│
    │ │        ▼ │  │  │         ^│^│^
════╬═╬════════&amp;quot;&amp;quot;&amp;quot;&amp;quot;═╬═######══════╩═╩═══
  ┌─┤ ├─┐     Litter│  Wood
  ┼ │ │ ┼           │
 ╱│╲   ╱│╲────────▶SOC─────────────────▶DOC
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;               +-------------------------+
               |NPP = GPP - Ar           |
               |NEP = NPP - Hr           |
               |NBP = NEP - harvest, fire|
               +-------------------------+
+---+ +---+       +---+         Harvest
|GPP| |Ar |       |Hr |         +Fires
+---+ +---+       +---+         &#39; &#39;^&#39;  &#39;
  |     ^         ^ ^ ^        &#39; &#39; | &#39; &#39;
 _v_____|_        | | |        ~~~~|~~~~
 \       /        | | |        \&#39;  &#39;  &#39;/
  \ NPP--------+  | | |         \&#39; &#39; &#39;/
   \   /       |  | | |          \&#39;&#39;&#39;/
    | |        |  | | |           |&#39;|
    | |        |  | | |           |&#39;|
    | |        v  | | |          &#39;|&#39;|&#39;
----| |--------&amp;quot;&amp;quot;&amp;quot;&amp;quot;-|-######------+-+---
  --| |--     Litter|  Wood
  | | | |           |
 /|\   /|\--------&amp;gt;SOC-----------------&amp;gt;DOC
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>A blog post on the Edinburgh Teaching Award</title>
      <link>http://johngodlee.xyz/posts/2021-06-03-edta_blog/</link>
      <pubDate>Thu, 03 Jun 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-06-03-edta_blog/</guid>
      <description>&lt;p&gt;I wrote a blog post about my experience with the Edinburgh Teaching Award, which is a professional development programme with the aim of improving teaching skills in higher education. It&amp;rsquo;s published on the Edinburgh Teaching Matters Blog, at the link below:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.teaching-matters-blog.ed.ac.uk/enriching-the-experience-of-a-phd-tutor-through-active-teaching/&#34; target=&#34;_blank&#34;&gt;Enriching the experience of a PhD tutor through active teaching – Teaching Matters blog&lt;/a&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Diagrams to summarise Biodiversity - Ecosystem Function Research</title>
      <link>http://johngodlee.xyz/posts/2021-06-01-befr/</link>
      <pubDate>Tue, 01 Jun 2021 00:00:00 +0000</pubDate>
      
      <guid>http://johngodlee.xyz/posts/2021-06-01-befr/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been writing the background and introduction chapter of my PhD thesis. In it, I write about previous research into the &amp;ldquo;Biodiversity - Ecosystem Function Relationship&amp;rdquo;, the idea that variation in biodiversity affects the way ecosystems function. To visualise some of the breakthroughs over the last 30 or so years I decided to make a schematic diagram. The diagram is below, with the lengthy caption I included in the chapter.&lt;/p&gt;
&lt;figure&gt;&lt;a href=&#34;http://johngodlee.xyz/img_full/befr/befr_graph.png&#34;&gt;&lt;img
          alt=&#34;Schematic diagram visualising some key breakthroughs in biodiversity - ecosystem function research&#34;
          title=&#34;Schematic diagram visualising some key breakthroughs in biodiversity - ecosystem function research&#34;src=&#34;http://johngodlee.xyz/img/befr/befr_graph.png&#34; 
      /&gt;&lt;/a&gt;&lt;/figure&gt;


&lt;p&gt;Schematic diagrams illustrating various inferences made on the Biodiversity - Ecosystem Function Relationship by previous studies. a) The classic BEF relationship found by many small scale experiments (Cardinale, Srivastava, et al., 2009). b) As more functions are considered simultaneously the minimum species richness needed to maintain overall ecosystem functionality increases, also showing how the proportion of functionally redundant species increases as less functions are considered (i.e. the curve reaches asymptote at a lower species richness) (Hector and Bagchi, 2007). c) The saturating relationship of the number of ecosystem functions considered and the number of species influencing ecosystem multifunctionality (Hector and Bagchi, 2007). d) As studies progress through time the strength of the BEF relationhip increases, the rate of increase in ecosystem function increases as species richness (S) grows (Cardinale, J. P. Wright, et al., 2007). e) As studies progress through time the shape of the relationship becomes more linear, saturating at progressively higher species richnesses. Studies averaged over longer periods exhibit a greater loss in ecosystem function in response to an equivalent species richness reduction (Reich, D. Tilman, et al., 2012). f) When functional richness is used in place of species richness, the relationship reaches asymptote at a higher richness. Additionally the relationship becomes more concave as a power coefficient representing the strength and number of species interactions increases. FR gt1 (interspecific competition greater than intraspecific competition (unstable)) results in a convex relationship, while FR lt1 results in a concave relationship (Mora, Danovaro, and Loreau, 2014).&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
