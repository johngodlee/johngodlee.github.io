<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>John L. Godlee</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">John L. Godlee</a></li>
      
      <li><a href="/files/cv/john_l_godlee_cv.pdf">CV</a></li>
      
      <li><a href="/works">Works</a></li>
      
    </ul>
    <hr/>
    </nav>


<div>
<h1>Qutebrowser setup</h1>

<h2>2018-08-10</h2>
</div>

<main>
<p>Firefox was becoming annoying and bloated, and so I decided to go back to using <a href="https://www.qutebrowser.org/index.html" target="_blank">Qutebrowser</a>
, a project I&rsquo;d been following for a while. It&rsquo;s a minimalistic web browser, which is massively extensible and keyboard driven, with default vim-like keybindings. This is about how I&rsquo;ve set it up. Qutebrowser is configured using a python file called <code>config.py</code> which is normally found in <code>~/.qutebrowser/config.py</code>.</p>
<figure><a href="/img_full/qutebrowser/qutebrowser_example.png"><img
          alt="Qutebrowser screenshot"
          title="Qutebrowser screenshot"src="/img/qutebrowser/qutebrowser_example.png" 
      /></a></figure>


<h1 id="the-tab-bar">The tab bar</h1>
<p>By default, the tab bar looks like this:</p>
<figure><a href="/img_full/qutebrowser/tab_default.png"><img
          alt="Default tab bar"
          title="Default tab bar"src="/img/qutebrowser/tab_default.png" 
      /></a></figure>


<p>It&rsquo;s pretty ugly, it doesn&rsquo;t have much padding around the text and the text is quite small.</p>
<p>This is how I&rsquo;ve modified it:</p>
<figure><a href="/img_full/qutebrowser/tab_custom.png"><img
          alt="My tab bar"
          title="My tab bar"src="/img/qutebrowser/tab_custom.png" 
      /></a></figure>


<p>The relevant lines of the <code>config.py</code> are:</p>
<pre tabindex="0"><code># Open new tabs in the background.
c.tabs.background = True

# Show favicons in the tab bar.
c.tabs.favicons.show = False

# Position of new tabs opened from another tab.
c.tabs.new_position.related = &#39;next&#39;

# Padding (in pixels) around text for tabs.
c.tabs.padding = {&#39;bottom&#39;: 8, &#39;left&#39;: 5, &#39;right&#39;: 5, &#39;top&#39;: 8}

# Position of the tab bar.
c.tabs.position = &#39;top&#39;

# Alignment of the text inside of tabs.
c.tabs.title.alignment = &#39;center&#39;

# Format to use for the tab title
c.tabs.title.format = &#39;{index}: {title} - {host}&#39;

# Width of tab indicators.
c.tabs.indicator.width = 3

# Padding (in pixels) for tab indicators.
c.tabs.indicator.padding = {&#39;bottom&#39;: 0, &#39;left&#39;: 0, &#39;right&#39;: 5, &#39;top&#39;: 0}

# Background color of the tab bar.
c.colors.tabs.bar.bg = &#39;#555555&#39;

# Color gradient start for the tab indicator.
c.colors.tabs.indicator.start = &#39;black&#39;

# Color gradient end for the tab indicator.
c.colors.tabs.indicator.stop = &#39;black&#39;

# Color for the tab indicator on errors.
c.colors.tabs.indicator.error = &#39;black&#39;

# Color gradient interpolation system for the tab indicator.
c.colors.tabs.indicator.system = &#39;rgb&#39;

# Foreground color of unselected odd tabs.
c.colors.tabs.odd.fg = &#39;black&#39;

# Background color of unselected odd tabs.
c.colors.tabs.odd.bg = &#39;lightgrey&#39;

# Foreground color of unselected even tabs.
c.colors.tabs.even.fg = &#39;black&#39;

# Background color of unselected even tabs.
c.colors.tabs.even.bg = &#39;lightgrey&#39;

# Foreground color of selected odd tabs.
c.colors.tabs.selected.odd.fg = &#39;black&#39;

# Background color of selected odd tabs.
c.colors.tabs.selected.odd.bg = &#39;darkgrey&#39;

# Foreground color of selected even tabs.
c.colors.tabs.selected.even.fg = &#39;black&#39;

# Background color of selected even tabs.
c.colors.tabs.selected.even.bg = &#39;darkgrey&#39;
</code></pre><p>Tabs are always at the top of the screen. Tabs are all <code>lightgrey</code> unless they are selected, then they become <code>darkgrey</code>, regardless of whether they are odd or even numbered. The foreground text is black and the tab indicator is black. I didn&rsquo;t like the gradient that shows on the tab indicator when a tab is loading, so it just stays black (<code>c.colors.tabs.indicator.start</code>, <code>c.colors.tabs.indicator.stop</code>). The text in the tabs is centred and a bit bigger than the default and each tab lists the number of the tab (<code>{index}</code>), the name of the webpage (<code>{title}</code>) and the top level domain (<code>{host}</code>).</p>
<p><code>c.tabs.indicator.padding = {'bottom': 0, 'left': 0, 'right': 5, 'top': 0}</code> means that the tab indicator is positioned a minimum of 5 pixels left of any text in the tab.</p>
<figure><a href="/img_full/qutebrowser/tab_custom_annot.png"><img
          alt="Annotated tab bar"
          title="Annotated tab bar"src="/img/qutebrowser/tab_custom_annot.png" 
      /></a></figure>


<h1 id="status-bar">Status bar</h1>
<figure><a href="/img_full/qutebrowser/status_default.png"><img
          alt="Default status bar"
          title="Default status bar"src="/img/qutebrowser/status_default.png" 
      /></a></figure>


<p>The default status bar and completion bar are super ugly, with a dark gradient background style which doesn&rsquo;t really fit with the colour scheme of the default tab bar. I want it to have a similar colour style to my custom tab bar. These are the relevant lines from the <code>config.py</code>:</p>
<pre tabindex="0"><code># Height (in pixels or as percentage of the window) of the completion.
c.completion.height = &#39;30%&#39;

# Padding (in pixels) for the statusbar.
c.statusbar.padding = {&#39;bottom&#39;: 5, &#39;left&#39;: 5, &#39;right&#39;: 5, &#39;top&#39;: 5}

# Widgets in statusbar
c.statusbar.widgets = [&#34;keypress&#34;, &#34;url&#34;, &#34;scroll&#34;, &#34;history&#34;, &#34;tabs&#34;, &#34;progress&#34;]

# Position of the status bar.
c.statusbar.position = &#39;bottom&#39;

# Text color of the completion widget
c.colors.completion.fg = &#39;black&#39;

# Background color of the completion widget for odd rows.
c.colors.completion.odd.bg = &#39;#F2F2F2&#39;

# Background color of the completion widget for even rows.
c.colors.completion.even.bg = &#39;lightgrey&#39;

# Foreground color of completion widget category headers.
c.colors.completion.category.fg = &#39;black&#39;

# Background color of the completion widget category headers.
c.colors.completion.category.bg = &#39;lightgrey&#39;

# Foreground color of the selected completion item.
c.colors.completion.item.selected.fg = &#39;black&#39;

# Background color of the selected completion item.
c.colors.completion.item.selected.bg = &#39;darkgrey&#39;

# Top border color of the completion widget category headers.
c.colors.completion.item.selected.border.top = &#39;black&#39;

# Bottom border color of the selected completion item.
c.colors.completion.item.selected.border.bottom = &#39;black&#39;

# Foreground color of the matched text in the completion.
c.colors.completion.match.fg = &#39;#ff4444&#39;

# Color of the scrollbar handle in the completion view.
c.colors.completion.scrollbar.fg = &#39;white&#39;

# Color of the scrollbar in the completion view.
c.colors.completion.scrollbar.bg = &#39;darkgrey&#39;

# Foreground color of the statusbar.
c.colors.statusbar.normal.fg = &#39;black&#39;

# Background color of the statusbar.
c.colors.statusbar.normal.bg = &#39;darkgrey&#39;

# Background color of the statusbar in insert mode.
c.colors.statusbar.insert.bg = &#39;#039B9A&#39;

# Foreground color of the statusbar in private browsing mode.
c.colors.statusbar.private.fg = &#39;black&#39;

# Foreground color of the statusbar in command mode.
c.colors.statusbar.command.fg = &#39;black&#39;

# Background color of the statusbar in command mode.
c.colors.statusbar.command.bg = &#39;darkgrey&#39;

# Default foreground color of the URL in the statusbar.
c.colors.statusbar.url.fg = &#39;black&#39;

# Foreground color of the URL in the statusbar on error.
c.colors.statusbar.url.error.fg = &#39;orange&#39;

# Foreground color of the URL in the statusbar for hovered links.
c.colors.statusbar.url.hover.fg = &#39;blue&#39;

# Foreground color of the URL in the statusbar on successful load
c.colors.statusbar.url.success.http.fg = &#39;black&#39;

# Foreground color of the URL in the statusbar on successful load
c.colors.statusbar.url.success.https.fg = &#39;black&#39;

# Foreground color of the URL in the statusbar when there&#39;s a warning.
c.colors.statusbar.url.warn.fg = &#39;black&#39;
</code></pre><figure><a href="/img_full/qutebrowser/status_custom.png"><img
          alt="My status line"
          title="My status line"src="/img/qutebrowser/status_custom.png" 
      /></a></figure>


<p>The completion widget needs different colours for odd and even rows, otherwise it&rsquo;s difficult to discriminate between rows. So they alternate between a very light grey for odd rows (<code>c.colors.completion.odd.bg = '#F2F2F2'</code>) and <code>lightgrey</code> for even rows. The text is always black in the completion bar and the status bar. Warnings on the status bar take their default colours of amber and red. The completion bar headers are also light grey and the selected completion item comes up as dark grey with a black border on the top and bottom. As text is matched it becomes red. The scrollbar is visible and follows the same colour pattern as the rest of the setup.</p>
<p>When open, the completion box takes up 30% of the screen.</p>
<p>When you enter insert mode to enter text into a web page field, the statusbar turns blue a la vim.</p>
<p>The statusbar has information on the current url (<code>url</code>), how far through the file you are (<code>scroll</code>), what tab is visible (<code>tabs</code>) and when a page is loading, the progress bar (<code>progress</code>).</p>
<figure><a href="/img_full/qutebrowser/status_custom_annot.png"><img
          alt="Annotated status bar"
          title="Annotated status bar"src="/img/qutebrowser/status_custom_annot.png" 
      /></a></figure>


<h1 id="fonts">Fonts</h1>
<p>The fonts are very simple, basically everything is either <code>monospace 8pt</code> or <code>monospace 9pt</code>, e.g.</p>
<pre tabindex="0"><code># Font used in the completion widget.
c.fonts.completion.entry = &#39;8pt monospace&#39;
</code></pre><h1 id="hints">Hints</h1>
<p>Qutebrowser has this really nice hinting system, you press <code>f</code> and the screen is filled with all the links you could click, you then type the corresponding letter code and it follows that link. Normally the hints look like this:</p>
<figure><a href="/img_full/qutebrowser/hint_default.png"><img
          alt="Default hints"
          title="Default hints"src="/img/qutebrowser/hint_default.png" 
      /></a></figure>


<p>The relevant bits of the <code>config.py</code> are:</p>
<pre tabindex="0"><code># CSS border value for hints.
c.hints.border = &#39;2px solid black&#39;

# Font color for hints.
c.colors.hints.fg = &#39;white&#39;

# Background color for hints.
c.colors.hints.bg = &#39;black&#39;

# Font color for the matched part of hints.
c.colors.hints.match.fg = &#39;lime&#39;
</code></pre><p>The hints are black with white text. Matched letters become lime green.</p>
<figure><a href="/img_full/qutebrowser/hint_custom.png"><img
          alt="My hints"
          title="My hints"src="/img/qutebrowser/hint_custom.png" 
      /></a></figure>


<h1 id="key-bindings">Key-bindings</h1>
<p>I have a few keybindings that are different to the default setup, mainly to make it feel more vim-like:</p>
<pre tabindex="0"><code># keybindings for normal mode
config.bind(&#39;&lt;backspace&gt;&#39;, &#39;back&#39;)
config.bind(&#39;gT&#39;, &#39;tab-prev&#39;)
config.bind(&#39;gt&#39;, &#39;tab-next&#39;)
config.bind(&#39;q&#39;, None)
config.bind(&#39;qq&#39;, &#39;quit&#39;)
config.bind(&#39;&lt;Meta-R&gt;&#39;, &#39;reload&#39;)
config.bind(&#39;l&#39;, &#39;forward&#39;)
config.bind(&#39;h&#39;, &#39;back&#39;)
</code></pre><p>Unbinding <code>q</code> is necessary so it doesn&rsquo;t match anything when I&rsquo;m typing <code>qq</code> to quit.</p>
<p>The reload bind is because Cmd-r is so engrained in me for reloading a page, from other web browsers, though I&rsquo;m using it less and less</p>
<p>The full <code>config.py</code> can be found <a href="/files/qutebrowser/config.py">here</a>
</p>

</main>

  <footer>
  <hr/>
  John L. Godlee | 
  <a href="mailto:johngodlee@gmail.com">johngodlee@gmail.com</a> |
  <a href="http://johngodlee.xyz//index.xml">RSS</a>

  </footer>
  </body>
</html>

