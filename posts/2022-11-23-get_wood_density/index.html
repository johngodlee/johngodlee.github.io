<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>John L. Godlee</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">John L. Godlee</a></li>
      
      <li><a href="/files/cv/john_l_godlee_cv.pdf">CV</a></li>
      
      <li><a href="/works">Works</a></li>
      
    </ul>
    <hr/>
    </nav>


<div>
<h1><code>BIOMASS::getWoodDensity()</code> description</h1>

<h2>2022-11-23</h2>
</div>

<main>
<p>I looked through the code for the <code>getWoodDensity()</code> function from the <code>{BIOMASS}</code> <a href="https://cran.r-project.org/web/packages/BIOMASS/index.html" target="_blank">R package</a>
, to get a better idea of how it estimates tree wood density.</p>
<p>The function uses the wood density database from the <a href="https://datadryad.org/stash/dataset/doi:10.5061/dryad.234" target="_blank">Zanne et al. (2009) global wood density database</a>
. The database contains 16467 records from 8388 taxa.</p>
<p>You feed the function a set of species names, and optionally family names, stand IDs (plots), extra wood density data supplied by the user, and a geographic region with which to subset the wood density database.</p>
<p>First, <code>getWoodDensity()</code> calculates mean wood density at the species level.</p>
<p>For species-level indets (e.g. <em>Ochna indet</em>) it then calculates mean wood density for the genus, using all available genus-level matches in the database.</p>
<p>For genus-level indets (e.g. Fabaceae indet) it calculates mean wood density for the family, again using all available genus-level matches in the database.</p>
<p>For family-level indets (i.e. no taxonomic information) it calculates mean wood density for the plot, using the best wood density estimates generated for each individual in previous steps.</p>
<p>In the case where no wood density estimates have been generated for that plot, i.e. no stems on the plot have taxonomic information, the mean of all other best wood density estimates generated for other plots is used.</p>
<p>In the case where no wood density estimates have been generated for any plots, because none of the submitted taxa have records in the database, the function fails.</p>
<p>The way the function is written it makes sense that if you are generating wood density estimates for multiple sites, which might differ in their species pool, you should run the function site by site in a loop or a <code>lapply()</code>.</p>
<p>In the event that the function fails due to lack of data, it might still be possible to generate an estimate of wood density for the site, either the regional mean, or even the global mean.</p>

</main>

  <footer>
  <hr/>
  John L. Godlee | 
  <a href="mailto:johngodlee@gmail.com">johngodlee@gmail.com</a> |
  <a href="http://johngodlee.xyz//index.xml">RSS</a>

  </footer>
  </body>
</html>

