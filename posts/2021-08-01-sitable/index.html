<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>John L. Godlee</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">John L. Godlee</a></li>
      
      <li><a href="/cv">CV</a></li>
      
      <li><a href="/works">Works</a></li>
      
    </ul>
    <hr/>
    </nav>


<div>
<h1>siunitx &lsquo;S&rsquo; table column &lsquo;table-format&rsquo; option</h1>

<h2>2021-08-01</h2>
</div>

<main>
<p>I can&rsquo;t believe it&rsquo;s taken me this long to figure out how to use the <code>table-format</code> option of the <code>S</code> column type from the <code>siunitx</code> package in a LaTeX table!</p>
<p>A basic table in LaTeX, showing part of the <code>mtcars</code> dataset in R:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tex" data-lang="tex"><span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>table<span style="color:#204a87">}</span>[h]
<span style="color:#204a87;font-weight:bold">\centering</span>
<span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}{</span>lrrrrr<span style="color:#204a87">}</span>
  <span style="color:#204a87;font-weight:bold">\hline</span>
 <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>mpg<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>cyl<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>disp<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>drat<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>qsec<span style="color:#204a87">}</span> <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87;font-weight:bold">\hline</span>
Mazda RX4 <span style="color:#204a87">&amp;</span> 21 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 160 <span style="color:#204a87">&amp;</span> 3.9 <span style="color:#204a87">&amp;</span> 16.46 <span style="color:#204a87;font-weight:bold">\\</span> 
Mazda RX4 Wag <span style="color:#204a87">&amp;</span> 21 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 160 <span style="color:#204a87">&amp;</span> 3.9 <span style="color:#204a87">&amp;</span> 17.02 <span style="color:#204a87;font-weight:bold">\\</span> 
Datsun 71 <span style="color:#204a87">&amp;</span> 22.8 <span style="color:#204a87">&amp;</span> 4 <span style="color:#204a87">&amp;</span> 108 <span style="color:#204a87">&amp;</span> 3.85 <span style="color:#204a87">&amp;</span> 18.61 <span style="color:#204a87;font-weight:bold">\\</span> 
Hornet 4 Drive <span style="color:#204a87">&amp;</span> 21.4 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 258 <span style="color:#204a87">&amp;</span> 3.08 <span style="color:#204a87">&amp;</span> 19.44 <span style="color:#204a87;font-weight:bold">\\</span> 
Hornet Sportabout <span style="color:#204a87">&amp;</span> 18.7 <span style="color:#204a87">&amp;</span> 8 <span style="color:#204a87">&amp;</span> 360 <span style="color:#204a87">&amp;</span> 3.15 <span style="color:#204a87">&amp;</span> 17.02 <span style="color:#204a87;font-weight:bold">\\</span> 
Valiant <span style="color:#204a87">&amp;</span> 18.1 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 225 <span style="color:#204a87">&amp;</span> 2.76 <span style="color:#204a87">&amp;</span> 20.22 <span style="color:#204a87;font-weight:bold">\\</span> 
   <span style="color:#204a87;font-weight:bold">\hline</span>
<span style="color:#204a87;font-weight:bold">\end</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}</span>
<span style="color:#204a87;font-weight:bold">\end</span><span style="color:#204a87">{</span>table<span style="color:#204a87">}</span>
</code></pre></div><figure><a href="/img_full/sitable/basic.png"><img
          alt="A basic table"
          title="A basic table"src="/img/sitable/basic.png" 
      /></a></figure>


<p>It&rsquo;s nice to align numeric columns by decimal point, which can be achieved using the <code>S</code> column type:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tex" data-lang="tex"><span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}{</span>lSSSSS<span style="color:#204a87">}</span>
</code></pre></div><p>But now the columns are all off centre:</p>
<figure><a href="/img_full/sitable/s_bad.png"><img
          alt="Table with misaligned &#39;S&#39; columns"
          title="Table with misaligned &#39;S&#39; columns"src="/img/sitable/s_bad.png" 
      /></a></figure>


<p>It turns out, that the <code>table-format</code> option can be used to tell <code>siunitx</code> how many digits to expect both before and after the decimal point:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tex" data-lang="tex"><span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}{</span>l
	S[table-format=2.1]
	S[table-format=1.0]
	S[table-format=3.0]
	S[table-format=1.2]
	S[table-format=2.2]<span style="color:#204a87">}</span>
</code></pre></div><figure><a href="/img_full/sitable/s_good.png"><img
          alt="Table with properly aligned &#39;S&#39; columns"
          title="Table with properly aligned &#39;S&#39; columns"src="/img/sitable/s_good.png" 
      /></a></figure>


<p>I had always assumed that <code>table-format</code> referred to a version number, <code>v3.2</code> for example, and not knowing what the differences were I had avoided using the option altogether.</p>
<p>As an addendum, while I was figuring this out I also did some experiments in exporting nice looking LaTeX tables directly from R using the <code>xtable</code> package. Here is a basic <code>xtable</code> export snippet, the resulting table, and the table rendered by LaTeX:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#8f5902;font-style:italic"># Packages</span>
<span style="color:#000">library</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">xtable</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># Data</span>
<span style="color:#000">data</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mtcars</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">dat</span> <span style="color:#ce5c00;font-weight:bold">&lt;-</span> <span style="color:#000">head</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mtcars</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">[</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">)</span><span style="color:#000">]</span>

<span style="color:#8f5902;font-style:italic"># Basic xtable, no formatting</span>
<span style="color:#000">xtab_bad</span> <span style="color:#ce5c00;font-weight:bold">&lt;-</span> <span style="color:#000">xtable</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dat</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># Write basic xtable to file</span>
<span style="color:#000">fileConn</span> <span style="color:#ce5c00;font-weight:bold">&lt;-</span> <span style="color:#000">file</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;xtab_bad.tex&#34;</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">writeLines</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">xtab_bad</span><span style="color:#000;font-weight:bold">),</span>
  <span style="color:#000">fileConn</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">close</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">fileConn</span><span style="color:#000;font-weight:bold">)</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tex" data-lang="tex"><span style="color:#8f5902;font-style:italic">% latex table generated in R 4.1.0 by xtable 1.8-4 package
</span><span style="color:#8f5902;font-style:italic">% Mon Aug  2 08:50:05 2021
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>table<span style="color:#204a87">}</span>[ht]
<span style="color:#204a87;font-weight:bold">\centering</span>
<span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}{</span>rrrrrr<span style="color:#204a87">}</span>
  <span style="color:#204a87;font-weight:bold">\hline</span>
 <span style="color:#204a87">&amp;</span> mpg <span style="color:#204a87">&amp;</span> cyl <span style="color:#204a87">&amp;</span> disp <span style="color:#204a87">&amp;</span> drat <span style="color:#204a87">&amp;</span> qsec <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87;font-weight:bold">\hline</span>
Mazda RX4 <span style="color:#204a87">&amp;</span> 21.00 <span style="color:#204a87">&amp;</span> 6.00 <span style="color:#204a87">&amp;</span> 160.00 <span style="color:#204a87">&amp;</span> 3.90 <span style="color:#204a87">&amp;</span> 16.46 <span style="color:#204a87;font-weight:bold">\\</span> 
  Mazda RX4 Wag <span style="color:#204a87">&amp;</span> 21.00 <span style="color:#204a87">&amp;</span> 6.00 <span style="color:#204a87">&amp;</span> 160.00 <span style="color:#204a87">&amp;</span> 3.90 <span style="color:#204a87">&amp;</span> 17.02 <span style="color:#204a87;font-weight:bold">\\</span> 
  Datsun 710 <span style="color:#204a87">&amp;</span> 22.80 <span style="color:#204a87">&amp;</span> 4.00 <span style="color:#204a87">&amp;</span> 108.00 <span style="color:#204a87">&amp;</span> 3.85 <span style="color:#204a87">&amp;</span> 18.61 <span style="color:#204a87;font-weight:bold">\\</span> 
  Hornet 4 Drive <span style="color:#204a87">&amp;</span> 21.40 <span style="color:#204a87">&amp;</span> 6.00 <span style="color:#204a87">&amp;</span> 258.00 <span style="color:#204a87">&amp;</span> 3.08 <span style="color:#204a87">&amp;</span> 19.44 <span style="color:#204a87;font-weight:bold">\\</span> 
  Hornet Sportabout <span style="color:#204a87">&amp;</span> 18.70 <span style="color:#204a87">&amp;</span> 8.00 <span style="color:#204a87">&amp;</span> 360.00 <span style="color:#204a87">&amp;</span> 3.15 <span style="color:#204a87">&amp;</span> 17.02 <span style="color:#204a87;font-weight:bold">\\</span> 
  Valiant <span style="color:#204a87">&amp;</span> 18.10 <span style="color:#204a87">&amp;</span> 6.00 <span style="color:#204a87">&amp;</span> 225.00 <span style="color:#204a87">&amp;</span> 2.76 <span style="color:#204a87">&amp;</span> 20.22 <span style="color:#204a87;font-weight:bold">\\</span> 
   <span style="color:#204a87;font-weight:bold">\hline</span>
<span style="color:#204a87;font-weight:bold">\end</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}</span>
<span style="color:#204a87;font-weight:bold">\end</span><span style="color:#204a87">{</span>table<span style="color:#204a87">}</span>
</code></pre></div><figure><a href="/img_full/sitable/xtab_bad.png"><img
          alt="standard xtable table output"
          title="standard xtable table output"src="/img/sitable/xtab_bad.png" 
      /></a></figure>


<p>By default, <code>xtable</code> renders all columns as right-aligned, with two decimal places after columns identified as numeric, with no caption or label. Below is an improved table, created by adding some customisations to <code>xtable</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#000">xtab_good</span> <span style="color:#ce5c00;font-weight:bold">&lt;-</span> <span style="color:#000">xtable</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dat</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000">label</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;table_a&#34;</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000">align</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;l&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;S[table-format=2.1]&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;S[table-format=1.0]&#34;</span><span style="color:#000;font-weight:bold">,</span> 
    <span style="color:#4e9a06">&#34;S[table-format=3.0]&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;S[table-format=1.2]&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;S[table-format=2.2]&#34;</span><span style="color:#000;font-weight:bold">),</span> 
  <span style="color:#000">display</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;s&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;f&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;d&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;d&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;f&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;f&#34;</span><span style="color:#000;font-weight:bold">),</span>
  <span style="color:#000">digits</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">(</span>  <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>   <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>   <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>   <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>   <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span>   <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">),</span>
  <span style="color:#000">caption</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Test caption, this is the full caption.&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Testing short&#34;</span><span style="color:#000;font-weight:bold">))</span>

<span style="color:#000">colSanit</span> <span style="color:#ce5c00;font-weight:bold">&lt;-</span> <span style="color:#000">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">x</span><span style="color:#000;font-weight:bold">){</span>
  <span style="color:#000">paste0</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;{&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;}&#34;</span><span style="color:#000;font-weight:bold">)</span> 
<span style="color:#000;font-weight:bold">}</span>

<span style="color:#000">rowSanit</span> <span style="color:#ce5c00;font-weight:bold">&lt;-</span> <span style="color:#000">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">x</span><span style="color:#000;font-weight:bold">){</span>
  <span style="color:#000">paste0</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;{\\emph{&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;}}&#34;</span><span style="color:#000;font-weight:bold">)</span> 
<span style="color:#000;font-weight:bold">}</span>

<span style="color:#8f5902;font-style:italic"># Write better xtable to file</span>
<span style="color:#000">fileConn</span> <span style="color:#ce5c00;font-weight:bold">&lt;-</span> <span style="color:#000">file</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;xtab_good.tex&#34;</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">writeLines</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">xtab_good</span><span style="color:#000;font-weight:bold">,</span> 
    <span style="color:#000">include.rownames</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">TRUE</span><span style="color:#000;font-weight:bold">,</span> 
    <span style="color:#000">caption.placement</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;top&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">table.placement</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">booktabs</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">TRUE</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000">sanitize.colnames.function</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">colSanit</span><span style="color:#000;font-weight:bold">,</span> 
    <span style="color:#000">sanitize.rownames.function</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">rowSanit</span><span style="color:#000;font-weight:bold">,</span> 
    <span style="color:#000">sanitize.text.function</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">function</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#000">x</span><span style="color:#000;font-weight:bold">}),</span> 
  <span style="color:#000">fileConn</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">close</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">fileConn</span><span style="color:#000;font-weight:bold">)</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tex" data-lang="tex"><span style="color:#8f5902;font-style:italic">% latex table generated in R 4.1.0 by xtable 1.8-4 package
</span><span style="color:#8f5902;font-style:italic">% Mon Aug  2 08:53:54 2021
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>table<span style="color:#204a87">}</span>
<span style="color:#204a87;font-weight:bold">\centering</span>
<span style="color:#204a87;font-weight:bold">\caption</span><span style="color:#c4a000">[Test caption, this is the full caption.]</span><span style="color:#204a87">{</span>Testing short<span style="color:#204a87">}</span> 
<span style="color:#204a87;font-weight:bold">\label</span><span style="color:#204a87">{</span>table<span style="color:#204a87">_</span>a<span style="color:#204a87">}</span>
<span style="color:#204a87;font-weight:bold">\begin</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}{</span>lS[table-format=2.1]S[table-format=1.0]S[table-format=3.0]S[table-format=1.2]S[table-format=2.2]<span style="color:#204a87">}</span>
  <span style="color:#204a87;font-weight:bold">\toprule</span>
 <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>mpg<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>cyl<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>disp<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>drat<span style="color:#204a87">}</span> <span style="color:#204a87">&amp;</span> <span style="color:#204a87">{</span>qsec<span style="color:#204a87">}</span> <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87;font-weight:bold">\midrule</span>
<span style="color:#204a87">{</span><span style="color:#204a87;font-weight:bold">\emph</span><span style="color:#204a87">{</span>Mazda RX4<span style="color:#204a87">}}</span> <span style="color:#204a87">&amp;</span> 21.0 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 160 <span style="color:#204a87">&amp;</span> 3.90 <span style="color:#204a87">&amp;</span> 16.46 <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87">{</span><span style="color:#204a87;font-weight:bold">\emph</span><span style="color:#204a87">{</span>Mazda RX4 Wag<span style="color:#204a87">}}</span> <span style="color:#204a87">&amp;</span> 21.0 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 160 <span style="color:#204a87">&amp;</span> 3.90 <span style="color:#204a87">&amp;</span> 17.02 <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87">{</span><span style="color:#204a87;font-weight:bold">\emph</span><span style="color:#204a87">{</span>Datsun 710<span style="color:#204a87">}}</span> <span style="color:#204a87">&amp;</span> 22.8 <span style="color:#204a87">&amp;</span> 4 <span style="color:#204a87">&amp;</span> 108 <span style="color:#204a87">&amp;</span> 3.85 <span style="color:#204a87">&amp;</span> 18.61 <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87">{</span><span style="color:#204a87;font-weight:bold">\emph</span><span style="color:#204a87">{</span>Hornet 4 Drive<span style="color:#204a87">}}</span> <span style="color:#204a87">&amp;</span> 21.4 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 258 <span style="color:#204a87">&amp;</span> 3.08 <span style="color:#204a87">&amp;</span> 19.44 <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87">{</span><span style="color:#204a87;font-weight:bold">\emph</span><span style="color:#204a87">{</span>Hornet Sportabout<span style="color:#204a87">}}</span> <span style="color:#204a87">&amp;</span> 18.7 <span style="color:#204a87">&amp;</span> 8 <span style="color:#204a87">&amp;</span> 360 <span style="color:#204a87">&amp;</span> 3.15 <span style="color:#204a87">&amp;</span> 17.02 <span style="color:#204a87;font-weight:bold">\\</span> 
  <span style="color:#204a87">{</span><span style="color:#204a87;font-weight:bold">\emph</span><span style="color:#204a87">{</span>Valiant<span style="color:#204a87">}}</span> <span style="color:#204a87">&amp;</span> 18.1 <span style="color:#204a87">&amp;</span> 6 <span style="color:#204a87">&amp;</span> 225 <span style="color:#204a87">&amp;</span> 2.76 <span style="color:#204a87">&amp;</span> 20.22 <span style="color:#204a87;font-weight:bold">\\</span> 
   <span style="color:#204a87;font-weight:bold">\bottomrule</span>
<span style="color:#204a87;font-weight:bold">\end</span><span style="color:#204a87">{</span>tabular<span style="color:#204a87">}</span>
<span style="color:#204a87;font-weight:bold">\end</span><span style="color:#204a87">{</span>table<span style="color:#204a87">}</span>
</code></pre></div><figure><a href="/img_full/sitable/xtab_good.png"><img
          alt="A better xtable"
          title="A better xtable"src="/img/sitable/xtab_good.png" 
      /></a></figure>


<p>The changes made:</p>
<ul>
<li>Adds a label - <code>label =</code></li>
<li>Aligns each column differently with <code>S</code> columns - <code>align =</code></li>
<li>Enforces column content type - <code>display =</code></li>
<li>Rounds digits in numeric columns - <code>digits =</code></li>
<li>Adds both a short caption for the list of tables and a long caption for in the text - <code>caption =</code></li>
<li>Defines functions to sanitize both the column names and the row names - <code>colSanit()</code>, <code>rowSanit()</code></li>
<li>Includes the rownames - <code>include.rownames =</code></li>
<li>Puts the caption above the table, which should be standard behaviour in my opinion - <code>caption.placement =</code></li>
<li>Removes any table position forcing, better to do this in LaTeX - <code>table.placement =</code></li>
<li>Uses <code>booktabs</code> to add <code>toprule</code>, <code>midrule</code>, <code>bottomrule</code> - <code>booktabs =</code></li>
</ul>

</main>

  <footer>
  <hr/>
  John L. Godlee | 
  <a href="mailto:johngodlee@gmail.com">johngodlee@gmail.com</a> |
  <a href="http://johngodlee.xyz//index.xml">RSS</a>

  </footer>
  </body>
</html>

