<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>John L. Godlee</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">John L. Godlee</a></li>
      
      <li><a href="/files/cv/john_l_godlee_cv.pdf">CV</a></li>
      
      <li><a href="/works">Works</a></li>
      
    </ul>
    <hr/>
    </nav>


<div>
<h1>Todo lists in Vim, syntax highlighting</h1>

<h2>2022-06-20</h2>
</div>

<main>
<p>I keep a todo list on my computer, which contains tasks for work and home. It also contains items where I&rsquo;m waiting for someone to do something, and I use it as a scratchpad for bits of pertinent information that might be useful in the near future. The file is written in <a href="https://daringfireball.net/projects/markdown/" target="_blank">Markdown</a>
. Items in the list are written as bullet points (-), and sometimes I group items together under headers (#). Sometimes I have headers for each day of the week, and sometimes for a particular project I&rsquo;m working on. The bullet point list of tasks is sometimes nested to include extra information about each task, or to add subtasks below a main task.</p>
<p>I&rsquo;ve known about the <a href="http://todotxt.org/" target="_blank">todo.txt</a>
 file format for a long time, and I see the logic in it. todo.txt is very flexible and has a number of optional features. You can specify due dates and creation dates (<code>2022-05-05</code>, <code>due:2022-05-05</code>), prioritise tasks using a letter system (<code>(A)</code>, <code>(B)</code>), group tasks by project (<code>@project</code>) or context (<code>+context</code>), mark tasks as done (<code>[ ]</code>, <code>[x]</code>) and optionally move completed tasks to a separate <code>done.txt</code> file. In my current system I already move tasks to &ldquo;done&rdquo; files, one per day, and I often add creation dates and due dates, especially on tasks where I&rsquo;m waiting for someone to do something.</p>
<p>The thing that has always put me off using todo.txt is the inability to add longer descriptions or subtasks to a task. Each task must occupy a single line. I also like having the ability to group tasks under headers as this allows me to plan my time, but todo.txt requires each line to be a task. Whenever I&rsquo;ve dabbled with todo.txt in the past, it&rsquo;s always given me tunnel vision, making it so I can only focus on the next few short tasks ahead of me, at the expense of understanding the wider context of my work. That being said, I would like to start making use of the context and project tags from todo.txt to organise tasks in my <code>todo.md</code> file.</p>
<p>I do most of my task management in <a href="https://neovim.io/" target="_blank">neovim</a>
. I wrote some syntax highlighting rules to extend the basic Markdown syntax highlighting in vim, by placing a file at <code>~/.config/nvim/after/syntax/mardown.vim</code>. The file contains:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-viml" data-lang="viml"><span style="display:flex;"><span><span style="color:#000">syntax</span>  <span style="color:#000">match</span>  <span style="color:#000">TodoDate</span>  <span style="color:#4e9a06">&#39;\d\{2,4\}-\d\{2\}-\d\{2\}&#39;</span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000">syntax</span>  <span style="color:#000">match</span>  <span style="color:#000">TodoDue</span>  <span style="color:#4e9a06">&#39;due:\d\{2,4\}-\d\{2\}-\d\{2\}&#39;</span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000">syntax</span>  <span style="color:#000">match</span>  <span style="color:#000">TodoProject</span>  <span style="color:#4e9a06">&#39;\(^\|\W\)+[^[:blank:]]\+&#39;</span> <span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000">syntax</span>  <span style="color:#000">match</span>  <span style="color:#000">TodoContext</span>  <span style="color:#4e9a06">&#39;\(^\|\W\)@[^[:blank:]]\+&#39;</span> <span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000">highlight</span>  <span style="color:#000">default</span>  <span style="color:#000">link</span>  <span style="color:#000">TodoDate</span>  <span style="color:#000">Type</span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000">highlight</span>  <span style="color:#000">default</span>  <span style="color:#000">link</span>  <span style="color:#000">TodoDue</span>  <span style="color:#000">Constant</span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000">highlight</span>  <span style="color:#000">default</span>  <span style="color:#000">link</span>  <span style="color:#000">TodoProject</span>  <span style="color:#000">Comment</span><span style="color:#a40000">
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#000">highlight</span>  <span style="color:#000">default</span>  <span style="color:#000">link</span>  <span style="color:#000">TodoContext</span>  <span style="color:#000">Statement</span><span style="color:#a40000">
</span></span></span></code></pre></div><p>So when I open my <code>todo.md</code> it looks like this:</p>
<figure><a href="/img_full/todo/scrot.png"><img
          alt="Screenshot of todo.md showing syntax highlighting"
          title="Screenshot of todo.md showing syntax highlighting"src="/img/todo/scrot.png" 
      /></a></figure>



</main>

  <footer>
  <hr/>
  John L. Godlee | 
  <a href="mailto:johngodlee@gmail.com">johngodlee@gmail.com</a> |
  <a href="http://johngodlee.xyz//index.xml">RSS</a>

  </footer>
  </body>
</html>

